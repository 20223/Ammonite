<!DOCTYPE html><html><head><link href="META-INF/resources/webjars/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="styles.css" rel="stylesheet" /><link rel="shortcut icon" type="image/png" href="favicon.png" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style>
.scalatex-site-Styles-headerLink{
  color: #777;
  opacity: 0.05;
  text-decoration: none;
}


.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink{
  color: #777;
  opacity: 0.5;
  text-decoration: none;
}
.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink:hover{
  opacity: 1.0;
}
.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink:active{
  opacity: 0.75;
}

.scalatex-site-Styles-content{
  color: #777;
  line-height: 1.6em;
  margin: 0 auto;
  margin-left: auto;
  margin-right: auto;
  max-width: 800px;
  padding: 0 1em;
  padding-bottom: 50px;
}
.scalatex-site-Styles-content *{
  position: relative;
}
.scalatex-site-Styles-content p{
  text-align: justify;
}
.scalatex-site-Styles-content a:link{
  color: #37a;
  text-decoration: none;
}
.scalatex-site-Styles-content a:visited{
  color: #949;
  text-decoration: none;
}
.scalatex-site-Styles-content a:hover{
  text-decoration: underline;
}
.scalatex-site-Styles-content a:active{
  color: #000;
  text-decoration: underline;
}
.scalatex-site-Styles-content code{
  color: #000;
}

/*Workaround for bug in highlight.js IDEA theme*/
span.hljs-tag, span.hljs-symbol{
    background: none;
}
    </style><title>Ammonite</title><script src="scripts.js"></script></head><body><div>


<a href="https://github.com/lihaoyi/ammonite" style="position: absolute;top: 0px;right: 0px;border: 0;"><img src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" /></a>


<style>
  /* Hacks to make things look better */
  * .hljs-symbol{
    color: #008000;
    font-weight: bold;
    font-style: normal;
  }
  .scalatex-site-Styles-content li{
    margin-bottom: 10px;
  }
</style>
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite<a class=" scalatex-site-Styles-headerLink" href="#Ammonite" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div><div class=" scalatex-site-Styles-content">
  <p>
    Ammonite enables shell-like scripting in the <a href="https://www.scala-lang.org/">Scala programming language</a>. It is made of a few subprojects:
</p>
  <ul>
    <li>
      <a href="#Ammonite-REPL">Ammonite-REPL</a>: A Modernized Scala REPL, with tons of <a href="#Features">bug fixes and features</a></li>
    <li>
      <a href="#Ammonite-Ops">Ammonite-Ops</a>: A Scala Library for convenient, rock-solid Filesystem Operations</li>
    <li>
      <a href="#Ammonite-Shell">Ammonite-Shell</a>: A modern replacement for the <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">Bash</a> system shell
</li></ul>
  <p>
    Depending on why you are here, click on the above links to jump straight to the documentation that interests you. For an overview of the project and it's motivation, check out this talk:</p>
  <iframe src="https://player.vimeo.com/video/148552858" style="width: 800px;height: 600px;" frameborder="0" webkitallowfullscreen="1" mozallowfullscreen="1" allowfullscreen="1"></iframe>
</div>

<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite-REPL" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite-REPL<a class=" scalatex-site-Styles-headerLink" href="#Ammonite-REPL" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">A Modernized Scala REPL</h2></div><div class=" scalatex-site-Styles-content">

  <p>
    Ammonite is an improved Scala REPL, re-implemented from first principles. It is much more featureful than the default REPL and comes with a lot of <a href="#Features">ergonomic improvements</a> and <a href="#Configuration">configurability</a> that may be familiar to people coming from IDEs or other REPLs such as <a href="https://ipython.org/">IPython</a> or <a href="http://www.zsh.org/">Zsh</a>.
</p>
  <p>
    It can be combined with <a href="#Ammonite-Ops">Ammonite-Ops</a> to replace Bash as your systems shell, but also can be used alone as a <a href="#Features">superior</a> version of the default Scala REPL, or as a <a href="#Debugging">debugging tool</a>, or for many other <a href="#REPLCookbook">fun and interesting things</a>!
</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="GettingStarted" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Getting Started<a class=" scalatex-site-Styles-headerLink" href="#GettingStarted" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      If you want to use Ammonite as a plain Scala shell, download the standalone executable:
</p>
    <pre><code class="bash scalatex-site-Styles-highlightMe">$ curl -L -o amm https://git.io/v2tpO; chmod +x amm; ./amm
</code></pre>
    <p>
      This will give you access to Ammonite for Scala:
</p>
    <img src="GettingStarted.png" style="width: 100%;" />

    <p>
      With <a href="#Pretty-printedoutput">Pretty Printing</a>, <a href="#SyntaxHighlighting">Syntax Highlighting</a> for input and output, <a href="#ArtifactLoading">Artifact Loading</a> in-REPL, and all the other nice <a href="#Features">Features</a>!
</p>
    <p>
      If you want to use Ammonite as a filesystem shell, take a look at <a href="#Ammonite-Shell">Ammonite-Shell</a>. If you're not sure what to do with Ammonite, check out the <a href="#REPLCookbook">REPL Cookbook</a> for some fun ideas!
</p>
    <p>
      If you want some initialization code available to the REPL, you can add it to your <code>~/.ammonite/predef.scala</code>.</p>
    <p>
      If you have any questions, come hang out on the <a href="#Community">mailing list or gitter channel</a> and get help!
</p>
    <h1 id="Ammonite-REPLinSBT" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Ammonite-REPLinSBT" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Ammonite-REPL in SBT</h1>
      <p>
        You can also try out Ammonite in an existing SBT project, add the following to your <code>build.sbt</code>
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite-repl&quot; % &quot;0.5.5&quot; % &quot;test&quot; cross CrossVersion.full

initialCommands in (Test, console) := &quot;&quot;&quot;ammonite.repl.Main.run(&quot;&quot;)&quot;&quot;&quot;
</code></pre>
      <p>
        After that, simple hit</p>
      <code>
        sbt projectName/test:console</code>
      <p>
        To activate the Ammonite REPL
</p>
      <p>
        You can also pass a string to the <code>run</code> call containing any commands or imports you want executed at the start of every run. If you want Ammonite to be available in all projects, simply add the above snippet to a new file <code>~/.sbt/0.13/global.sbt</code>.
</p>
      <p>
        Note: Ammonite-REPL does <i>not</i> support Windows, even though <a href="#Ammonite-Ops">Ammonite-Ops</a> does. See <a href="https://github.com/lihaoyi/Ammonite/issues/119">#119</a> if you are interested in details or want to try your hand at making it work.</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Features" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Features<a class=" scalatex-site-Styles-headerLink" href="#Features" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite-REPL supports many more features than the default REPL, including:
</p>
    <h1 id="ArtifactLoading" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ArtifactLoading" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Artifact Loading</h1>

      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ import scalatags.Text.all._
error: not found: value scalatags

@ load.ivy(&quot;com.lihaoyi&quot; %% &quot;scalatags&quot; % &quot;0.4.5&quot;)

@ import scalatags.Text.all._
import scalatags.Text.all._

@ a(&quot;omg&quot;, href:=&quot;www.google.com&quot;).render
res2: String = $tq
&lt;a href=&quot;www.google.com&quot;&gt;omg&lt;/a&gt;
$tq</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/ProjectTests.scala#L17-L29" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Ammonite allows you to load artifacts directly from maven central by copy &amp; pasting their SBT ivy-coordinate-snippet. In addition, you can also load in jars as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>s to be included in the session or simple <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s to be executed using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code> command.
</p>
      <p>
        This makes Ammonite ideal for trying out new libraries or tools. You can pull down projects like <a href="https://github.com/scalaz/scalaz">Scalaz</a> or <a href="https://github.com/milessabin/shapeless">Shapeless</a> and immediately start working with them in the REPL:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;com.chuusai&quot; %% &quot;shapeless&quot; % &quot;2.2.5&quot;)

@ import shapeless._

@ (1 :: &quot;lol&quot; :: List(1, 2, 3) :: HNil)
res2: Int :: String :: List[Int] :: HNil = 1 :: lol :: List(1, 2, 3) :: HNil

@ res2(1)
res3: String = &quot;lol&quot;

@ import shapeless.syntax.singleton._

@ 2.narrow
res5: 2 = 2</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/ProjectTests.scala#L99-L113" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Even non-trivial web frameworks like Finagle or Akka-HTTP can be simply pulled down and run in the REPL!
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;com.twitter&quot; %% &quot;finagle-httpx&quot; % &quot;6.26.0&quot;)

@ import com.twitter.finagle._; import com.twitter.util._

@ var serverCount = 0

@ var clientResponse = 0

@ val service = new Service[httpx.Request, httpx.Response] {
@   def apply(req: httpx.Request): Future[httpx.Response] = {
@     serverCount += 1
@     Future.value(
@       httpx.Response(req.version, httpx.Status.Ok)
@     )
@   }
@ }

@ val server = Httpx.serve(&quot;:8080&quot;, service)

@ val client: Service[httpx.Request, httpx.Response] = Httpx.newService(&quot;:8080&quot;)

@ val request = httpx.Request(httpx.Method.Get, &quot;/&quot;)

@ request.host = &quot;www.scala-lang.org&quot;

@ val response: Future[httpx.Response] = client(request)

@ response.onSuccess { resp: httpx.Response =&gt;
@   clientResponse = resp.getStatusCode
@ }

@ Await.ready(response)

@ serverCount
res12: Int = 1

@ clientResponse
res13: Int = 200

@ server.close()</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/ProjectTests.scala#L168-L208" target="_blank"><i class="fa fa-link "></i></a></pre>


      <p>
        Ammonite-REPL is configured with a set of default resolvers but you can add your own
        
        <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;com.ambiata&quot; %% &quot;mundane&quot; % &quot;1.2.1-20141230225616-50fc792&quot;)
error: IvyResolutionException

@ import ammonite.repl._, Resolvers._ 

@ val oss = Resolver.Http(
@   &quot;ambiata-oss&quot;,
@   &quot;https://ambiata-oss.s3-ap-southeast-2.amazonaws.com&quot;,
@   IvyPattern,
@   false
@ )

@ resolvers() = resolvers() :+ oss

@ load.ivy(&quot;com.ambiata&quot; %% &quot;mundane&quot; % &quot;1.2.1-20141230225616-50fc792&quot;)
              
@ import com.ambiata.mundane._</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/ProjectTests.scala#L66-L83" target="_blank"><i class="fa fa-link "></i></a></pre> 
</p>
    <h1 id="Pretty-printedoutput" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Pretty-printedoutput" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Pretty-printed output</h1>

      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ Seq.fill(10)(Seq.fill(3)(&quot;Foo&quot;))
res0: Seq[Seq[String]] = List(
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;),
  List(&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;)
)

@ case class Foo(i: Int, s0: String, s1: Seq[String])
defined class Foo

@ Foo(1, &quot;&quot;, Nil)
res2: Foo = Foo(1, &quot;&quot;, List())

@ Foo(
@   1234567,
@   &quot;I am a cow, hear me moo&quot;,
@   Seq(&quot;I weigh twice as much as you&quot;, &quot;and I look good on the barbecue&quot;)
@ )
res3: Foo = Foo(
  1234567,
  &quot;I am a cow, hear me moo&quot;,
  List(&quot;I weigh twice as much as you&quot;, &quot;and I look good on the barbecue&quot;)
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/AdvancedTests.scala#L14-L44" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Ammonite-REPL uses <a href="https://lihaoyi.github.io/upickle-pprint/pprint/">PPrint</a> to display its output by default. That means that everything is nicely formatted to fit within the width of the terminal, and is copy-paste-able!
</p>
      <p>
        By default, Ammonite <a href="#ConfigurableTruncation">truncates</a> the pretty-printed output to avoid flooding your terminal. If you want to disable truncation, call <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">show(...)</code> on your expression to pretty-print it's full output. You can also pass in an optional <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">height = ...</code> parameter to control how much you want to show before truncation.</p>
    <h1 id="ConfigurableTruncation" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ConfigurableTruncation" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Configurable Truncation</h1>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ Seq.fill(20)(100)
res0: Seq[Int] = List(
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
...

@ show(Seq.fill(20)(100))
res1: ammonite.pprint.Show[Seq[Int]] = List(
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100,
  100
)

@ show(Seq.fill(20)(100), height = 3)
res2: ammonite.pprint.Show[Seq[Int]] = List(
  100,
  100,
...

@ pprintConfig() = pprintConfig().copy(height = 5 )

@ Seq.fill(20)(100)
res4: Seq[Int] = List(
  100,
  100,
  100,
  100,
...</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/AdvancedTests.scala#L160-L217" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Ammonite-REPL intelligently truncates your output when it's beyond a certain size. You can request for the full output to be printed on-demand, print a certain number of lines, or even change the implicit <code>pprintConfig</code> so subsequent lines all use your new configuration.
</p>
    <h1 id="SyntaxHighlighting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SyntaxHighlighting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Syntax Highlighting</h1>
      <img src="Highlighting.png" style="width: 100%;" />
      <p>
        Ammonite syntax highlights both the code you're entering as well as any output being echoed in response. This should make it much easier to work with larger snippets of input.</p>
      <p>
        All colors are configurable, and you can easily turn off colors entirely via the <a href="#Configuration">Configuration</a>.</p>
      <p>
        Stack traces are similarly highlighted, for easier reading:
</p>
      <img src="ColoredTraces.png" style="width: 100%;" />

    <h1 id="Undo" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Undo" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Undo</h1>
      <p>
        Ammonite allows you to save your work half way through, letting you discard and future changes and returning to the state of the world you saved.
</p>
      <p>
        Defined some memory-hogging variable you didn't need? Loaded the wrong version of some third-party library? Reluctant to reload the REPL because reloading is slow? Fear not! With Ammonite, you can save your important work, do whatever you want later, and simply discard all the jars you loaded, variables you defined
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ val veryImportant = 1
veryImportant: Int = 1

@ sess.save()

@ val oopsDontWantThis = 2
oopsDontWantThis: Int = 2

@ // Let's try this new cool new library

@ load.ivy(&quot;com.lihaoyi&quot; %% &quot;scalatags&quot; % &quot;0.5.3&quot;)

@ veryImportant
res4: Int = 1

@ oopsDontWantThis
res5: Int = 2

@ import scalatags.Text.all._

@ div(&quot;Hello&quot;).render
res7: String = &quot;&lt;div&gt;Hello&lt;/div&gt;&quot;

@ // Oh no, maybe we don't want scalatags!

@ sess.load()

@ veryImportant
res9: Int = 1

@ oopsDontWantThis
error: not found: value oopsDontWantThis

@ import scalatags.Text.all._
error: not found: value scalatags
&quot;&quot;&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/BuiltinTests.scala#L121-L157" target="_blank"><i class="fa fa-link "></i></a></pre>
      <p>
        Apart from plain <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">save</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code>s, which simply discard everything after the most recent save, you can also provide a name to these functions. That lets you stop working on a branch, go do something else for a while, and be able to come back later to continue where you left off:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ val (x, y) = (1, 2)
x: Int = 1
y: Int = 2

@ sess.save(&quot;xy initialized&quot;)

@ val z = x + y
z: Int = 3

@ sess.save(&quot;first z&quot;)

@ sess.load(&quot;xy initialized&quot;)

@ val z = x - y
z: Int = -1

@ sess.save(&quot;second z&quot;)

@ z
res7: Int = -1

@ sess.load(&quot;first z&quot;)

@ z
res9: Int = 3

@ sess.load(&quot;second z&quot;)

@ z
res11: Int = -1
            &quot;&quot;&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/BuiltinTests.scala#L160-L191" target="_blank"><i class="fa fa-link "></i></a></pre>


      <p>
        Lastly, you have the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.pop()</code> function. Without any arguments, it behaves the same as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.load()</code>, reseting you to your last savepoint. However, you can pass in a number of session frames which you'd like to pop, allow you to reset your session to even earlier save points. <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.pop(2)</code> would put you two save-points ago, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.pop(3)</code> would put you three save-points ago, letting you reach earlier save-points even if you did not give them names. Passing in a large number like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">sess.pop(999)</code> would reset your session all the way until the start.
</p>
      <p>
        Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">save</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load</code> functionality is implemented via Java class-loaders.
</p>
    <h1 id="ImprovedEditing" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ImprovedEditing" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Improved Editing</h1>
      <img src="Editing.gif" style="display: block;margin-left: auto;margin-right: auto;height: 172px;" />
      <p>
        Ammonite by default ships with a custom implementation of readline, which provides...
</p>
      <h2 id="Multi-lineediting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Multi-lineediting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Multi-line editing</h2>

        <p>
          You can use the <b>Up</b> and <b>Down</b> arrows to navigate between lines within your snippet. <code>Enter</code> only executes the code when you're on the last line of a multi-line snippet, meaning you can take your time, space out your code nicely, and fix any mistakes anywhere in your snippet. History is multi-line too, meaning re-running a multi-line snippet is trivial, even with tweaks.
</p>
        <p>
          Long gone are the days where you're desperately trying to cram everything in a single line, or curse quietly when you notice a mistake in an earlier line you are no longer able to fix. No more painstakingly crafting a multi-line snippet, and then having to painstakingly fish it line by individual line out of the history so you can run it again!
</p>
      <h2 id="Desktopkey-bindings" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Desktopkey-bindings" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Desktop key-bindings</h2>

        <p>
          You can use <b>Alt-Left</b>/<b>Right</b> to move forward/backwards by one word at a time or hold down <b>Shift</b> to select text to delete. These compose as you'd be used to: e.g. <b>Shift-Up</b> selects all the text between your current cursor and the same column one row up.
</p>
        <p>
          <code>Tab</code> and <code>Shift-Tab</code> now work to block-indent and -dedent sections of code, as you'd expect in any desktop editor like Sublime Text or IntelliJ. This further enhances the multi-line editing experience, letting your nicely lay-out your more-complex REPL commands the same way you'd format code in any other editor.
</p>
      <h2 id="Consolekey-bindings" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Consolekey-bindings" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Console key-bindings</h2>
        <p>
          All the readline-style navigation hotkeys like <b>Ctrl-W</b> to delete a word or <b>Esc-Left</b>/<b>Right</b> to navigate one word left/right still work. If you're comfortable with consoles like Bash, Python, IPython or even the default Scala console, you should have no trouble as all the exact same hotkeys work in Ammonite
</p>
      <h2 id="HistorySearch" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#HistorySearch" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>History Search</h2>

        <img src="HistorySearch.gif" style="width: 445px;margin-right: auto;margin-left: auto;display: block;" />

        <p>
          Apart from browsing your command-line history with <code>UP</code>, you can also perform a history search by entering some search term and <i>then</i> pressing <code>UP</code>. That will pull up the most recent history line with that term in it, underlined. You can continue to press <code>UP</code> or <code>DOWN</code> to cycle through the matches, or <code>Backspace</code> or continue typing characters to refine your search to what you want.</p>
        <p>
          You can press <code>TAB</code>, or any other command character (<code>LEFT</code>, <code>RIGHT</code>, ...) to end the search and let you continue working with the currently-displayed command. Pressing <code>ENTER</code> will end the search and immediately submit the command to be run.</p>
        <p>
          You can also kick off a history search using <code>Ctrl-R</code>, and use <code>Ctrl-R</code> to cycle through the matches.

</p>
    <h1 id="SuperiorAutocomplete" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#SuperiorAutocomplete" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Superior Autocomplete</h1>
      <p>
        The original Scala REPL provides no autocomplete except for the most basic scenarios of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">value.&lt;complete&gt;</code>. In the Ammonite-REPL, you get the same autocomplete-anywhere support that you get in a modern IDE.
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ Seq(1, 2, 3).map(x =&gt; x.)
getClass            ##                  asInstanceOf        isInstanceOf
toString            hashCode            equals              !=
==                  %                   /                   *
-                   +                   ^                   &amp;
|                   &gt;=                  &gt;                   &lt;=
&lt;                   &gt;&gt;                  &gt;&gt;&gt;                 &lt;&lt;
unary_-             unary_+             unary_~             toDouble
toFloat             toLong              toInt               toChar
toShort             toByte              compareTo           doubleValue
...

@ Futu
scala.collection.parallel.FutureThreadPoolTasks
scala.collection.parallel.FutureTasks
scala.concurrent.impl.Future$PromiseCompletingRunnable
scala.concurrent.impl.Future
scala.concurrent.Future
scala.concurrent.FutureTaskRunner
scala.concurrent.Future$InternalCallbackExecutor
scala.concurrent.Future$class
java.util.concurrent.Future
java.util.concurrent.FutureTask$WaitNode
java.util.concurrent.FutureTask
com.sun.corba.se.impl.orbutil.closure.Future
</code></pre>

      <p>
        Neither of these examples work in the standard Scala REPL.
</p>
    <h1 id="Interruptingrun-awayexecutionwithCtrl-C" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Interruptingrun-awayexecutionwithCtrl-C" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Interrupting run-away execution with Ctrl-C</h1>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ while(true) ()
... hangs ...
^Ctrl-C
Interrupted!

@
</code></pre>
      <p>
        The traditional Scala REPL doesn't handle runaway code, and gives you no option but to kill the process, losing all your work. Ammonite-REPL lets you interrupt the thread, stop the runaway-command and keep going.
</p>
    <h1 id="Compiler-crashRobustness" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Compiler-crashRobustness" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Compiler-crash Robustness</h1>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ val x = 1
x: Int = 1

@ /* trigger compiler crash */ trait Bar { super[Object].hashCode }
error: java.lang.AssertionError: assertion failed

@ 1 + x
res1: Int = 2</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/FailureTests.scala#L35-L43" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        The default Scala REPL throws away all your work if the compiler crashes. This doesn't make any sense, because all the compiler is is a dumb <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String =&gt; Array[Byte]</code> pipe. In the Ammonite, we simply swap out the broken compiler for a new one and let you continue your work.
</p>
    <h1 id="BlockInput" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#BlockInput" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Block Input</h1>
      <p>
        To enter block input (many independent lines all at once) into the Ammonite-REPL, simply wrap the multiple lines in curly braces <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">{ ... }</code>, and Ammonite will wait until you close it before evaluating the contents:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ {
@   val x = 1
@   val y = 2
@   x + y
@ }
x: Int = 1
y: Int = 2
res0_2: Int = 3</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/AdvancedTests.scala#L137-L145" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        As you can see, the contents of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">{ ... }</code> block are unwrapped and evaluated as top-level statements. You can use this to e.g. declare mutually recursive functions or classes &amp; companion-objects without being forced to squeeze everything onto a single line.
</p>
      <p>
        If you don't want this un-wrapping behavior, simply add another set of curlies and the block will be evaluated as a normal block, to a single expression:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ {{
@   val x = 1
@   val y = 2
@   x + y
@ }}
res0: Int = 3</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/AdvancedTests.scala#L149-L155" target="_blank"><i class="fa fa-link "></i></a></pre>
    <h1 id="OtherFixes" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OtherFixes" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Other Fixes</h1>
      <p>
        Apart from the above features, the Ammonite REPL fixes a large number of bugs in the default Scala REPL, including but not limited to:</p>
      <ul>
        
        
          <li><a href="https://issues.scala-lang.org/browse/SI-6302">SI-6302</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8971">SI-8971</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-9249">SI-9249</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-4438">SI-4438</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8603">SI-8603</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-6660">SI-6660</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-7953">SI-7953</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-6659">SI-6659</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8456">SI-8456</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-1067">SI-1067</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-8307">SI-8307</a></li>
        
          <li><a href="https://issues.scala-lang.org/browse/SI-9335">SI-9335</a></li>
        </ul>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Builtins" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Builtins<a class=" scalatex-site-Styles-headerLink" href="#Builtins" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite contains a range of useful built-ins implemented as normal functions. Everything inside the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ReplAPI</code> trait is imported by default and can be accessed directly by default to control the console.
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">trait ReplAPI {
  /**
   * Exit the Ammonite REPL. You can also use Ctrl-D to exit
   */
  def exit = throw ReplExit(())
  /**
   * Exit the Ammonite REPL. You can also use Ctrl-D to exit
   */
  def exit(value: Any) = throw ReplExit(value)


  /**
   * Read/writable prompt for the shell. Use this to change the
   * REPL prompt at any time!
   */
  val prompt: Ref[String]
  /**
   * The front-end REPL used to take user input. Modifiable!
   */
  val frontEnd: Ref[FrontEnd]

  /**
   * Display help text if you don't know how to use the REPL
   */
  def help: String

  /**
    * The last exception that was thrown in the REPL; `null` if nothing has
    * yet been thrown. Useful if you want additional information from the
    * thrown exception than the printed stack trace (e.g. many exceptions have
    * additional metadata attached) or if you want to show the stack trace
    * on an exception that doesn't normally print it (e.g. seeing the stack
    * when a Ctrl-C interrupt happened) via `lastException.printStackTrace`.
    */
  def lastException: Throwable
  /**
   * History of commands that have been entered into the shell, including
   * previous sessions
   */
  def fullHistory: History

  /**
   * History of commands that have been entered into the shell during the
   * current session
   */
  def history: History

  /**
   * Get the `Type` object of [[T]]. Useful for finding
   * what its methods are and what you can do with it
   */
  def typeOf[T: WeakTypeTag]: Type

  /**
   * Get the `Type` object representing the type of `t`. Useful
   * for finding what its methods are and what you can do with it
   *
   */
  def typeOf[T: WeakTypeTag](t: =&gt; T): Type
  
  /**
   * Tools related to loading external scripts and code into the REPL
   */
  def load: Load

  /**
   * resolvers to use when loading jars 
   */
  def resolvers: Ref[List[Resolver]]

  /**
   * The colors that will be used to render the Ammonite REPL in the terminal
   */
  val colors: Ref[Colors]

  /**
   * Throw away the current scala.tools.nsc.Global and get a new one
   */
  def newCompiler(): Unit

  /**
   * Access the compiler to do crazy things if you really want to!
   */
  def compiler: scala.tools.nsc.Global

  /**
   * Show all the imports that are used to execute commands going forward
   */
  def imports: String
  /**
   * Controls how things are pretty-printed in the REPL. Feel free
   * to shadow this with your own definition to change how things look
   */
  implicit val pprintConfig: Ref[pprint.Config]

  implicit def derefPPrint(implicit t: Ref[pprint.Config]): pprint.Config = t()

  /**
   * Current width of the terminal
   */
  def width: Int
  /**
   * Current height of the terminal
   */
  def height: Int

  def replArgs: Vector[ammonite.repl.Bind[_]]

  /**
   * Lets you configure the pretty-printing of a value. By default, it simply
   * disables truncation and prints the entire thing, but you can set other
   * parameters as well if you want.
   */
  def show[T: PPrint](implicit cfg: Config): T =&gt; Unit
  def show[T: PPrint](t: T,
                      width: Integer = 0,
                      height: Integer = null,
                      indent: Integer = null,
                      colors: pprint.Colors = null)
                     (implicit cfg: Config = Config.Defaults.PPrintConfig): Unit
  /**
    * Functions that can be used to manipulate the current REPL session:
    * check-pointing progress, reverting to earlier checkpoints, or deleting
    * checkpoints by name.
    *
    * Frames get pushed on a stack; by default, a saved frame is
    * accessible simply by calling `load`. If you provide a name
    * when `save`ing a checkpoint, it can later be `load`ed directly
    * by providing the same name to `load`
    *
    * Un-named checkpoints are garbage collected, together with their
    * classloader and associated data, when they are no longer accessible
    * due to `restore`. Named checkpoints are kept forever; call `delete`
    * on them if you really want them to go away.
    */
  def sess: Session
}
trait Session{
  /**
    * The current stack of frames
    */
  def frames: List[Frame]
  /**
    * Checkpoints your current work, placing all future work into its own
    * frames. If a name is provided, it can be used to quickly recover
    * that checkpoint later.
    */
  def save(name: String = &quot;&quot;): Unit

  /**
    * Discards the last frames, effectively reverting your session to
    * the last `save`-ed checkpoint. If a name is provided, it instead reverts
    * your session to the checkpoint with that name.
    */
  def load(name: String = &quot;&quot;): SessionChanged

  /**
    * Resets you to the last save point. If you pass in `num`, it resets
    * you to that many savepoints since the last one.
    */
  def pop(num: Int = 1): SessionChanged
  /**
    * Deletes a named checkpoint, allowing it to be garbage collected if it
    * is no longer accessible.
    */
  def delete(name: String): Unit
}

trait LoadJar {

  /**
   * Load a `.jar` file or directory into your JVM classpath
   */
  def cp(jar: Path): Unit
  /**
   * Load a library from its maven/ivy coordinates
   */
  def ivy(coordinates: (String, String, String), verbose: Boolean = true): Unit
}
trait Load extends (String =&gt; Unit) with LoadJar{
  /**
   * Loads a command into the REPL and
   * evaluates them one after another
   */
  def apply(line: String): Unit

  /**
   * Loads and executes the scriptfile on the specified path.
   * Compilation units separated by `@\n` are evaluated sequentially.
   * If an error happens it prints an error message to the console.
   */ 
  def exec(path: Path): Unit

  def module(path: Path): Unit

  def plugin: LoadJar

}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/main/scala/ammonite/repl/frontend/ReplAPI.scala#L27-L226" target="_blank"><i class="fa fa-link "></i></a></pre>

  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="ScriptFiles" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Script Files<a class=" scalatex-site-Styles-headerLink" href="#ScriptFiles" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite defines a format that allows you to load external scripts into the REPL; this can be used to save common functionality so it can be used at a later date. In the simplest case, a script file is simply a sequence of Scala statements, e.g.
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">// script.scala
// print banner
println(&quot;Welcome to the XYZ custom REPL!!&quot;)

// common imports
import sys.process._
import collection.mutable

// common initialization code
val x = 123
...
</code></pre>
    <p>
      Which you can then load into the REPL as desired:</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ mutable.Seq(x) // doesn't work
Compilation Failed
Main.scala:122: not found: value mutable
mutable.Seq(x) // doesn't work
^
Main.scala:122: not found: value x
mutable.Seq(x) // doesn't work
            ^
@ import ammonite.ops._
@ load.module(&quot;script.scala&quot;)
Welcome to the XYZ custom REPL!!

@ mutable.Seq(x) // works
res1: mutable.Seq[Int] = ArrayBuffer(123)
</code></pre>
    <p>
      By default, everything in a script is compiled and executed as a single block. That means that if you want to perform classpath-modifying operations, such as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.cp</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code>, its results will not be available within the same script if you want to use methods, values or packages defined in the loaded code. To make this work, break the script up into multiple compilation units with an @ sign, e.g.
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">// print banner
println(&quot;Welcome to the XYZ custom REPL!!&quot;)

load.ivy(&quot;org.scalaz&quot; %% &quot;scalaz-core&quot; % &quot;7.1.1&quot;)

@

// common imports
import scalaz._
import Scalaz._

// common initialization code
...</code></pre>
    <p>
      Ammonite provides two ways to load scripts, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code>.
</p>
    <p>
      With <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code> the script is executed like it was pasted in the REPL. Exec scripts can access all values previously defined in the REPL, and all side-effects are guaranteed to be applied. This is useful for one-off sets of commands.</p>
    <p>
      With <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code>, the script is loaded like a Scala module. That means it can't access values previously defined in the REPL, but it is guaranteed to only execute once even if loaded many times by different scripts. If you want to execute the script code multiple times, put it in a function and call it after you load the script.
</p>
     <p>
       Any scripts you load can themselves load scripts. You can also run scripts using the Ammonite executable from an external shell (e.g. bash):
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">bash$ ./amm path/to/script.scala
</code></pre>
    <p>
      All types, values and imports defined in scripts are available to commands entered in REPL after loading the script.</p>
    <h1 id="ScriptArguments" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScriptArguments" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Script Arguments</h1>
      <p>
        Often when calling a script from the external command- line (e.g. Bash), you need to pass arguments to configure its behavior. With Ammonite, this is done by defining a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">main</code> method, e.g.
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Args.scala
val x = 1
import ammonite.ops._
def main(i: Int, s: String, path: Path = cwd) = {
  println(s&quot;Hello! ${s * i} ${path.relativeTo(cwd)}.&quot;)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/integration/src/test/resources/ammonite/integration/Args.scala#L0-L6" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        When the script is run from the command line:</p>
      <pre><code class="bash scalatex-site-Styles-highlightMe">~/amm Args.scala 3 Moo</code></pre>
      <p>
        The top-level definitions execute first (e.g. setting <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">x</code>), and then the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">main</code> method is called with the arguments you passed in.</p>
      <p>
        Default arguments behave as you would expect (i.e. they allow you to omit it when calling) and arguments are parsed using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">scopt.Read</code> typeclass, which provides parsers for primitives like <code>Int</code>, <code>Double</code>, <code>String</code>, as well as basic data-structures like <code>Seq</code>s (taken as a comma-separated list) and common types like <a href="#Paths">Paths</a>.</p>
      <p>
        If you pass in the wrong number of arguments, or if an argument fails to deserialize, the script will fail with an exception.
</p>
      <p>
        The <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">main</code> method does not get automatically called when you <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code> a script from <i>within</i> the Ammonite REPL. It gets imported into scope like any other method or value defined in the script, and you can just call it normally.</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Configuration" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Configuration<a class=" scalatex-site-Styles-headerLink" href="#Configuration" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite is configured via Scala code, that can live in the <code>~/.ammonite/predef.scala</code> file, passed in through SBT's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">initialCommands</code>, or passed to the command-line executable as <code>--predef='...'</code>.
</p>
    <p>
      Anything that you put in <code>predef.scala</code> will be executed when you load the Ammonite REPL. This is a handy place to put common imports, setup code, or even call <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> to <a href="#ArtifactLoading">load third-party jars</a>. The compilation of the predef is cached, so after the first run it should not noticeably slow down the initialization of your REPL.
</p>
    <p>
      Some examples of things you can configure:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ // Set the shell prompt to be something else

@ repl.prompt() = &quot;&gt;&quot;

@ // Change the terminal front end; the default is

@ // Ammonite on Linux/OSX and JLineWindows on Windows

@ repl.frontEnd() = ammonite.repl.frontend.FrontEnd.JLineUnix

@ repl.frontEnd() = ammonite.repl.frontend.FrontEnd.JLineWindows

@ repl.frontEnd() = ammonite.repl.frontend.AmmoniteFrontEnd()

@ // Changing the colors used by Ammonite; all at once:

@ repl.colors() = ammonite.repl.Colors.BlackWhite

@ repl.colors() = ammonite.repl.Colors.Default

@ // or one at a time:

@ repl.colors().prompt() = Console.RED

@ repl.colors().ident() = Console.GREEN

@ repl.colors().`type`() = Console.YELLOW

@ repl.colors().literal() = Console.MAGENTA

@ repl.colors().prefix() = Console.CYAN

@ repl.colors().comment() = Console.RED

@ repl.colors().keyword() = Console.BOLD

@ repl.colors().selected() = Console.UNDERLINED

@ repl.colors().error() = Console.YELLOW</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/BuiltinTests.scala#L13-L52" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h1 id="Refs" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Refs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Refs</h1>
      <p>
        By default, all the values you're seeing here with the <code>()</code> after them are <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Ref</code>s, defined as
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">trait StableRef[T]{
  /**
   * Get the current value of the this [[StableRef]] at this instant in time
   */
  def apply(): T

  /**
   * Set the value of this [[StableRef]] to always be the value `t`
   */
  def update(t: T): Unit
}

trait Ref[T] extends StableRef[T]{
  /**
   * Return a function that can be used to get the value of this [[Ref]]
   * at any point in time
   */
  def live(): () =&gt; T

  /**
   * Set the value of this [[Ref]] to always be the value of the by-name
   * argument `t`, at any point in time
   */
  def bind(t: =&gt; T): Unit
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/main/scala/ammonite/repl/Util.scala#L107-L133" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        As you can see from the signature, you can basically interact with the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Ref</code>s in two ways: either getting or setting their values as values, or binding their values to expressions that will be evaluated every time the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Ref</code>'s value is needed.
</p>
      <p>
        As an example of the latter, you can use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">bind</code> to set your <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">prompt</code> to always include your current working directory
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">repl.prompt.bind(wd.toString + &quot;@ &quot;)
</code></pre>
      <p>
        As is common practice in other shells. Further modifications to make it include e.g. your current branch in Git (which you can call through Ammonite's <a href="#SpawningSubprocesses">subprocess API</a> or the current timestamp/user are similarly possible.
</p>
    <h1 id="CompilerFlags" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#CompilerFlags" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Compiler Flags</h1>
      <p>
        Apart from configuration of the rest of the shell through <a href="#Refs">Refs</a>, configuration of the Scala compiler takes place separately through the compiler's own configuration mechanism. You have access to the compiler as <code>compiler</code>, and can modify its settings as you see fit. Here's an example of this in action:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">@ // Disabling default Scala imports

@ List(1, 2, 3) + &quot;lol&quot;
res0: String = &quot;List(1, 2, 3)lol&quot;

@ compiler.settings.noimports.value = true

@ List(1, 2, 3) + &quot;lol&quot; // predef imports disappear
error: not found: value List

@ compiler.settings.noimports.value = false

@ List(1, 2, 3) + &quot;lol&quot;
res3: String = &quot;List(1, 2, 3)lol&quot;

@ // Disabling Scala language-import enforcement

@ object X extends Dynamic
error: extension of type scala.Dynamic needs to be enabled

@ compiler.settings.language.tryToSet(List(&quot;dynamics&quot;))

@ object X extends Dynamic
defined object X

@ 1 + 1 // other things still work

@ // Enabling warnings (which are disabled by default)

@ List(1) match { case _: List[Double] =&gt; 2 }
res7: Int = 2

@ compiler.settings.nowarnings.value = false

@ List(1) match { case _: List[Double] =&gt; 2 }
warning: $fruitlessTypeTestWarningMessageBlahBlahBlah</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/repl/src/test/scala/ammonite/repl/session/BuiltinTests.scala#L78-L114" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        If you want these changes to always be present, place them in your <code>~/.ammonite/predef.scala</code>.

</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Debugging" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Debugging<a class=" scalatex-site-Styles-headerLink" href="#Debugging" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite can be used as a tool to debug any other Scala program, by conveniently opening a REPL at any point within your program with which you can interact with live program data, similar to pdb/ipdb in Python. To do so, first add Ammonite to your classpath, e.g. through this SBT snippet:</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite-repl&quot; % &quot;0.5.5&quot; cross CrossVersion.full
</code></pre>
    <p>
      Note that unlike the snippet given <a href="#Ammonite">above</a>, we leave out the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">% &quot;test&quot;</code> because we may want ammonite to be available within the &quot;main&quot; project, and not just in the unit tests. Then, anywhere within your program, you can place a breakpoint via:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">import ammonite.repl.Main._
debug(&quot;name1&quot; -&gt; value1, &quot;name2&quot; -&gt; value2, ...)
</code></pre>
    <p>
      And when your program reaches that point, it will pause and open up an Ammonite REPL with the values you provided it bound to the names you gave it. From there, you can interact with those values as normal Scala values within the REPL. Use <code>Ctrl-D</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exit</code> to exit the REPL and continue normal program execution. Note that the names given must be plain Scala identifiers.
</p>
    <p>
      Here's an example of it being used to debug changes to the <a href="https://github.com/d6y/wootjs">WootJS webserver</a>:
</p>
    <img src="Debugging.png" style="width: 100%;" />
    <p>
      In this case, we added the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug</code> statement within the websocket frame handler, so we can inspect the values that are taking part in the client-server data exchange. You can also put the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug</code> statement inside a conditional, to make it break only when certain interesting situations (e.g. bugs) occur.
</p>
    <p>
      As you can see, you can bind the values you're interested in to names inside the debug REPL, and once in the REPL are free to explore them interactively.</p>
    <p>
      The <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug()</code> call returns <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">: Any</code>; by default, this is <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">(): Unit</code>, but you can also return custom values by passing in an argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exit(...)</code> when you exit the REPL. This value will then be returned from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">debug()</code>, and can be used in the rest of your Scala application.
</p>
    <h1 id="RemoteREPL" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RemoteREPL" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Remote REPL</h1>

      <p>
        Ammonite can also be used to remotely connect to your running application and interact with it in real-time, similar to Erlang's <code>erl -remsh</code> command.
</p>
      <p>
        This is useful if e.g. you have multiple Scala/Java processes running but aren't sure when/if you'd want to inspect them for debugging, and if so which ones. With Ammonite, you can leave a ssh server running in each process. You can then and connect-to/disconnect-from each one at your leisure, working with the in-process Scala/Java objects and methods and classes interactively, without having to change code and restart the process to add breakpoints or instrumentation.
</p>
      <p>
        To do this, add ammonite-sshd to your classpath, for example with SBT:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">libraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite-sshd&quot; % &quot;0.5.5&quot; cross CrossVersion.full
</code></pre>
      <p>
        Now add repl server to your application:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">import ammonite.sshd._
val replServer = new SshdRepl(
  SshServerConfig(
    address = &quot;localhost&quot;, // or &quot;0.0.0.0&quot; for public-facing shells
    port = 22222, // Any available port
    username = &quot;repl&quot;, // Arbitrary
    password = &quot;your_secure_password&quot; // or &quot;&quot;
  )
)
replServer.start()
</code></pre>
      <p>
        And start your application. You will be able to connect to it using ssh like this: <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ssh repl@localhost -p22222</code> and interact with your running app. Invoke <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">stop()</code> method whenever you want to shutdown ammonite sshd server. Here for example sshd repl server is embedded in the <a href="https://github.com/theiterators/akka-http-microservice">Akka HTTP microservice example</a>:
</p>
      <img src="DebuggingViaSshd.png" style="width: 100%;" />

      <p>
        Here we can interact with code live, inspecting values or calling methods on the running system. We can try different things, see which works and which not, and then put our final bits in application code. In this example app is located on local machine, but you are free to connect to any remote node running your code.
</p>
      <p>
        <b>Security notes:</b> It is probably unsafe to run this server publicly (on host <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;0.0.0.0&quot;</code>) in a production, public-facing application. Currently it doesn't supports key-based auth, and password-based auth is notoriously weak.
</p>
      <p>
        Despite this, it is perfectly possible to run these on production infrastructure: simply leave the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">host</code> set to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;localhost&quot;</code>, and rely on the machine's own SSH access to keep out unwanted users: you would first <code>ssh</code> onto the machine itself, and then <code>ssh</code> into the Ammonite REPL running on <code>localhost</code>.
</p>
      <p>
        Typically most organizations already have bastions, firewalls, and other necessary infrastructure to allow trusted parties SSH access to the relevant machines. Running on <code>localhost</code> lets you leverage that and gain all the same security properties without having to re-implement them in Scala.
</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="REPLCookbook" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">REPL Cookbook<a class=" scalatex-site-Styles-headerLink" href="#REPLCookbook" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>

    <p>
      The Ammonite Scala REPL is meant to be extended: you can load in arbitary Java/Scala modules from the internet via <a href="#ArtifactLoading">load.ivy</a>. Using this third-party code, you extend the REPL to do anything you wish to do, and tools like <a href="#Ammonite-Shell">Ammonite-Shell</a> are simply modules like any other. Simple install Java, <a href="#Ammonite-REPL">download Ammonite</a> onto any Linux/OSX machine, and try out one of these fun snippets!
</p>
    <ul>
      <li>
        <a href="#HTTPRequests">HTTP Requests</a></li>
      <li>
        <a href="#ScrapingHTML">Scraping HTML</a></li>
      <li>
        <a href="#GUIApplications">GUI Applications</a></li>
      <li>
        <a href="#OfficeAutomation">Office Automation</a></li>
      <li>
        <a href="#ImageProcessing">Image Processing</a></li>
      <li>
        <a href="#MachineLearning">Machine Learning</a>
</li></ul>
    <h1 id="HTTPRequests" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#HTTPRequests" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>HTTP Requests</h1>
      <p>
        Ammonite does not come with a built-in way to make HTTP requests, but there are Java /Scala modules that do this quite well! Here's an example:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">Welcome to the Ammonite Repl
@ load.ivy(&quot;org.scalaj&quot; %% &quot;scalaj-http&quot; % &quot;2.2.0&quot;)
:: loading settings ::
:: resolving dependencies ::
...
[SUCCESSFUL ] org.scalaj#scalaj-http_2.11;2.2.0!scalaj-http_2.11.jar (63ms)

@ import ammonite.ops._, scalaj.http._
import ammonite.ops._, scalaj.http._

@ val resp = Http(&quot;https://api.github.com/repos/scala/scala&quot;).asString
resp: HttpResponse[String] = HttpResponse(
{&quot;id&quot;:2888818,&quot;name&quot;:&quot;scala&quot;,&quot;full_name&quot;:&quot;scala/scala&quot;,&quot;owner&quot;:
{&quot;login&quot;:&quot;scala&quot;,&quot;id&quot;:57059,&quot;avatar_url&quot;:
&quot;https://avatars.githubusercontent.com/u/57059?v=3&quot;,&quot;gravatar_id&quot;:&quot;&quot;,
&quot;url&quot;:&quot;https://api.github.com/users/scala&quot;,&quot;html_url&quot;:&quot;https://github.com/scala&quot;,
&quot;followers_url&quot;:&quot;https://api.github.com/users/scala/followers&quot;,
&quot;following_url&quot;:&quot;https://api.github.com/users/scala/following{/other_user}&quot;,
&quot;gists_url&quot;:&quot;https://api.github.com/users/scala/gists{/gist_id}&quot;,
&quot;starred_url&quot;:&quot;https://api.github.com/users/scala/starred{/owner}{/repo}&quot;,
&quot;subscriptions_url&quot;:&quot;https://api.github.com/users/scala/subscriptions&quot;,
...

@ val parsed = upickle.json.read(resp.body).asInstanceOf[upickle.Js.Obj]
parsed: upickle.Js.Obj = Obj(
  ArrayBuffer(
    (&quot;id&quot;, Num(2888818.0)),
    (&quot;name&quot;, Str(&quot;scala&quot;)),
    (&quot;full_name&quot;, Str(&quot;scala/scala&quot;)),
    (
      &quot;owner&quot;,
      Obj(
        ArrayBuffer(
          (&quot;login&quot;, Str(&quot;scala&quot;)),
...

@ for((k, v) &lt;- parsed.value) write(cwd/'target/'temp/k, upickle.json.write(v))

@ ls! cwd/'target/'temp
res6: LsSeq = LsSeq(
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/archive_url,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/assignees_url,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/blobs_url,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/temp/branches_url,,
...
</code></pre>
      <p>
        In this example, we use the <a href="https://github.com/scalaj/scalaj-http">Scalaj HTTP</a> library to download a URL, and we use <a href="http://lihaoyi.github.io/upickle-pprint/upickle/">uPickle</a> and <a href="#Ammonite-Ops">Ammonite-Ops</a> to parse the JSON and write it into files. uPickle and Ammonite-Ops are bundled with the Ammonite REPL and are used internally, and while Scalaj HTTP isn't, we can simply load it from the public repositories via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code>.</p>
      <p>
        This is a small example, but it illustrates the potential: if you find yourself needing to scrape some website or bulk-download large quantities of data from some website's HTTP/JSON API, you can start doing so within a matter of seconds using Ammonite. The results are given to you in nicely structured data, and you can deal with them using any Java or Scala libraries or tools you are used to rather than being forced to munge around in Bash. Sometimes, you may find that you need to get data from somewhere without a nice JSON API, which means you'd need to fall back to <a href="#ScrapingHTML">Scraping HTML</a>...
</p>
    <h1 id="ScrapingHTML" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScrapingHTML" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scraping HTML</h1>
      <p>
        Not every website has an API, and not every website is meant to be accessed programmatically. That doesn't mean you can't do it! Using libraries like <a href="http://jsoup.org/">JSoup</a>, you can quickly and easily get the computer to extract useful information from HTML that was meant to humans. Using the Ammonite REPL, you can do it interactively and without needing to set up annoying project scaffolding.</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;org.jsoup&quot; % &quot;jsoup&quot; % &quot;1.7.2&quot;)

@ import org.jsoup._ // import Jsoup

@ import collection.JavaConversions._ // make Java collections easier to use

@ val doc = Jsoup.connect(&quot;http://en.wikipedia.org/&quot;).get()

@ doc.select(&quot;h1&quot;)
res54: select.Elements = &lt;h1 id=&quot;firstHeading&quot; class=&quot;firstHeading&quot; lang=&quot;en&quot;&gt;Main Page&lt;/h1&gt;
@ doc.select(&quot;h2&quot;) // this is huge and messy
res55: select.Elements = &lt;h2 id=&quot;mp-tfa-h2&quot; style=&quot;margin:3px; background:#cef2e0; font-family:inherit; font-size:120%; font-weight:bold; border:1px solid #a3bfb1; text-align:left; color:#000; padding:0.2em 0.4em;&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;From_today.27s_featured_article&quot;&gt;From today's featured article&lt;/span&gt;&lt;/h2&gt;
&lt;h2 id=&quot;mp-dyk-h2&quot; style=&quot;margin:3px; background:#cef2e0; font-family:inherit; font-size:120%; font-weight:bold; border:1px solid #a3bfb1; text-align:left; color:#000; padding:0.2em 0.4em;&quot;&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;Did_you_know...&quot;&gt;Did you know...&lt;/span&gt;&lt;/h2&gt;
...

@ doc.select(&quot;h2&quot;).map(_.text) // but you can easily pull out the bits you want
res56: collection.mutable.Buffer[String] = ArrayBuffer(
  &quot;From today's featured article&quot;,
  &quot;Did you know...&quot;,
  &quot;In the news&quot;,
  &quot;On this day...&quot;,
  &quot;From today's featured list&quot;,
  &quot;Today's featured picture&quot;,
  &quot;Other areas of Wikipedia&quot;,
  &quot;Wikipedia's sister projects&quot;,
  &quot;Wikipedia languages&quot;,
  &quot;Navigation menu&quot;
)</code></pre>
      <p>
        If you wanted to scrape headlines off some news-site or scrape video game reviews off of some gaming site, you don't need to worry about setting up a project and installing libraries and all that stuff. You can simply load libraries like Jsoup right into the Ammonite REPL, copy some example from their website, and start scraping useful information in less than a minute.
</p>
    <h1 id="GUIApplications" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#GUIApplications" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>GUI Applications</h1>
      <p>
        The Ammonite REPL runs on the Java virtual machine, which means you can use it to create Desktop GUI applications like anyone else who uses Java! Here's an example of how to create a hello-world interactive desktop app using Swing
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ {
  import javax.swing._, java.awt.event._
  val frame = new JFrame(&quot;Hello World Window&quot;)

  val button = new JButton(&quot;Click Me&quot;)
  button.addActionListener(new ActionListener{
    def actionPerformed(e: ActionEvent) = button.setText(&quot;You clicked the button!&quot;)
  })
  button.setPreferredSize(new java.awt.Dimension(200, 100))
  frame.getContentPane.add(button)
  frame.pack()
  frame.setVisible(true)

  }</code></pre>
      <p>
        This can be run inside the Ammonite REPL without installing anything, and will show the following window with a single button:
</p>
      <img src="Swing1.png" style="margin-left: auto;margin-right: auto;" />

      <p>
        When clicked, it changes text:
</p>
      <img src="Swing2.png" style="margin-left: auto;margin-right: auto;" />

      <p>
        Although this is just a small demo, you can use Ammonite yourself to experiment with GUI programming without needing to go through the hassle of setting up an environment and project and all that rigmarole. Just run the code right in the console! You can even interact with the GUI live in the console, e.g. running this snippet of code to add another action listener to keep count of how many times you clicked the button
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ {
  var count = 0
  button.addActionListener(new ActionListener{
    def actionPerformed(e: ActionEvent) = {
      count += 1
      frame.setTitle(&quot;Clicks: &quot; + count)
    }
  })
  }
</code></pre>
      <p>
        Which immediately becomes visible in the title of the window:
</p>
      <img src="Swing3.png" style="margin-left: auto;margin-right: auto;" />

      <p>
        Even while you're clicking on the button, you can still access <code>count</code> in the console:</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ count
res12: Int = 6</code></pre>
      <p>
        This is a level of live interactivity which is traditionally hard to come by in the world of desktop GUI applications, but with the Ammonite REPL, it's totally seamless
</p>
    <h1 id="OfficeAutomation" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OfficeAutomation" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Office Automation</h1>
      <p>
        Apart from writing code, you very often find yourself dealing with documents and spreadsheets of various sorts. This is often rather tedious. Wouldn't it be cool if you could deal with these things programmatically? It turns out that there are open-soure Java libraries such as <a href="https://poi.apache.org/">Apache POI</a> that let you do this, and with the Ammonite-REPL you can quickly and easily load these libraries and get to work on your favorite documents. Here's an example extracting some data from my old Resume, in <code>.docx</code> format:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;org.apache.poi&quot; % &quot;poi-ooxml&quot; % &quot;3.13&quot;)

@ import ammonite.ops._                  // Prepare to deal with some files
@ import org.apache.poi.xwpf.usermodel._ // Bring Ms-Word APIs into scope
@ import collection.JavaConversions._    // Make use of Java collections easier

@ val path = cwd/'repl/'src/'test/'resources/'testdata/&quot;Resume.docx&quot;

@ val docx = new XWPFDocument(new java.io.ByteArrayInputStream(read.bytes(path)))

@ docx.get&lt;tab&gt;
getAllEmbedds                            getParagraphArray
getAllPackagePictures                    getParagraphPos
getAllPictures                           getParagraphs
getBodyElements                          getParagraphsIterator
getBodyElementsIterator                  getParent
getClass                                 getPart
getCommentByID                           getPartById
getComments                              getPartType
getDocument                              getPictureDataByID
...

@ docx.getParagraphs.map(_.getText)
res28: collection.mutable.Buffer[String] = ArrayBuffer(
  &quot;&quot;&quot;
Haoyi Li
  &quot;&quot;&quot;,
  &quot;&quot;&quot;
Education	Massachusetts Institute of Technology		Cambridge, MA
  &quot;&quot;&quot;,
  &quot;&quot;&quot;
Bachelor of Science degree in Computer Science, GPA 4.8/5.0	 Sep 2010 – Jun 2013
  &quot;&quot;&quot;,
  &quot;&quot;&quot;
Work	Dropbox		San Francisco, CA
  &quot;&quot;&quot;
...

@ docx.getHyperlinks.map(_.getURL)
res27: Array[String] = Array(
  &quot;http://vimeo.com/87845442&quot;,
  &quot;http://www.github.com/lihaoyi/scalatags&quot;,
  &quot;http://www.github.com/lihaoyi/scala.rx&quot;,
  &quot;http://www.github.com/lihaoyi/scala-js-fiddle&quot;,
  &quot;http://www.github.com/lihaoyi/metascala&quot;,
  &quot;https://www.github.com/lihaoyi/macropy&quot;,
  &quot;http://www.github.com/lihaoyi&quot;,
  &quot;http://www.github.com/lihaoyi&quot;
)</code></pre>
      <p>
        As you can see, loading the Apache POI library is just a single command, reading in my resume file is just one or two more, and then you can immediate start exploring the document's data model to see what inside interests you. You even get tab-completion on the methods of the document, making it really easy for you to interactively explore all the things that a word document has to offer!</p>
      <p>
        This is just a small example, but you can easily do more things in the same vein: Apache POI lets you create/modify/save <code>.docx</code> files in addition to reading from them, meaning you can automatically perform batch operations on large numbers of documents. The library also provides mechanisms to load in Excel spreadsheets and Powerpoint slide decks, meaning you have easy, programmable access to the great bulk of any Microsoft-Office files you find yourself dealing with.

</p>
    <h1 id="ImageProcessing" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ImageProcessing" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Image Processing</h1>
      <p>
        You can perform lots of image operations in Java. You can use <a href="https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html">BufferedImagee</a> if you want to access the low-level details or read/write individual pixels, and using <a href="http://zetcode.com/gfx/java2d/">Java2D</a> you can draw shapes, perform transforms, or do anything you could possibly want to do with the images.</p>
      <p>
        There are also simple libraries like <a href="https://github.com/coobird/thumbnailator">Thumbnailator</a> if you're doing basic things like renaming/resizing/rotating and don't need pixel-per-pixel access. This is an example of using Thumbnailator to resize a folder of images and put them somewhere else:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;net.coobird&quot; % &quot;thumbnailator&quot; % &quot;0.4.8&quot;)

@ import net.coobird.thumbnailator._
import net.coobird.thumbnailator._

@ val images = ls! cwd/'repl/'src/'test/'resources/'testdata/'images
images: LsSeq = LsSeq(
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/repl/src/test/resources/testdata/images/GettingStarted.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/repl/src/test/resources/testdata/images/Highlighting.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/repl/src/test/resources/testdata/images/SystemShell.png
)
@ val dest = cwd/'target/'thumbnails
dest: Path = /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails

@ mkdir! dest

@ for(i &lt;- images) {
    Thumbnails.of(i.toString).size(200, 200).toFile(dest/i.last toString)
  }

@ val thumbnails = ls! dest
thumbnails: LsSeq = LsSeq(
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails/GettingStarted.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails/Highlighting.png,
  /Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target/thumbnails/SystemShell.png
)

@ images.map(_.size) // Original image files are pretty big
res44: Seq[Long] = List(180913L, 208328L, 227570L)

@ thumbnails.map(_.size) // Thumbnailed image files are much smaller
res45: Seq[Long] = List(11129L, 11790L, 11893L)</code></pre>
    <h1 id="MachineLearning" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#MachineLearning" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Machine Learning</h1>
      <p>
        The word &quot;Machine Learning&quot; sounds big and intimidating, like something you'd need to spend 6 years getting a PhD before you understand. What if you could &quot;do some machine-learning&quot; (whatever that means) in your spare time, in a minute or two? It turns out there are many Java libraries that can help you with basics, and with the Ammonite REPL getting started is easy.
</p>
      <p>
        Here's one example of how you can get started using the <a href="http://opennlp.apache.org/">OpenNLP</a> project to do some natural-language processing in just a few minutes. The example was found <a href="http://www.programcreek.com/2012/05/opennlp-tutorial/#sentence detector">online</a>, and shows how to extract english names from a raw <code>String</code> using NLP:
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ load.ivy(&quot;org.apache.opennlp&quot; % &quot;opennlp-tools&quot; % &quot;1.6.0&quot;) // load OpenNLP

@ // Turns out you need training data, use Scalaj-HTTP to download it

@ load.ivy(&quot;org.scalaj&quot; %% &quot;scalaj-http&quot; % &quot;2.2.0&quot;)

@ val tokenDataUrl = &quot;http://opennlp.sourceforge.net/models-1.5/en-token.bin&quot;

@ val tokenData = scalaj.http.Http(tokenDataUrl).asBytes
tokenData: HttpResponse[Array[Byte]] = HttpResponse(
  Array(
    80,
    75,
    3,
    4,
    20,
...

@ import opennlp.tools.tokenize._ // let's get started with OpenNLP!

@ val str = &quot;Hi. How are you? This is Mike. Did you see book about Peter Smith?&quot;

@ import java.io.ByteArrayInputStream

@ val tokenModel = new TokenizerModel(new ByteArrayInputStream(tokenData.body))

@ val tokenizer = new TokenizerME(tokenModel)

@ val tokens = tokenizer.tokenize(str)
tplems: Array[String] = Array(
  &quot;Hi&quot;,
  &quot;.&quot;,
  &quot;How&quot;,
  &quot;are&quot;,
  &quot;you&quot;
...

@ import opennlp.tools.namefind._ // Turns out we need more test data...

@ val nameDataUrl = &quot;http://opennlp.sourceforge.net/models-1.5/en-ner-person.bin&quot;

@ val nameData = Http(nameDataUrl).asBytes
nameData: HttpResponse[Array[Byte]] = HttpResponse(
  Array(
    80,
    75,
    3,
    4,
    20,
...

@ val nameModel = new TokenNameFinderModel(new ByteArrayInputStream(nameData.body))

@ val nameFinder = new NameFinderME(nameModel)
nameFinder: NameFinderME = opennlp.tools.namefind.NameFinderME@491eb5ef

@ val names = nameFinder.find(tokens)
names: Array[opennlp.tools.util.Span] = Array([8..9) person, [15..17) person)

@ opennlp.tools.util.Span.spansToStrings(names, tokens) // Woohoo, names!
res96: Array[String] = Array(&quot;Mike&quot;, &quot;Peter Smith&quot;)
</code></pre>
      <p>
        This took a while, but only in comparison to the earlier cookbook recipes: this one is still less than 20 steps, which is not bad for something that installs multiple third-party modules, pulls down training data off the internet, and then does natural language processing to extract the english names from a text blob!
</p>
      <p>
        Obviously we did not go very deep into the field. If you did, it would definitely be a lot more reading and understanding than just blindly following tutorials like I did above, and you probably would find it worth the time to set up a proper project. Nevertheless, this quick 5-minute run through of how to perform the basics of NLP is a fun way to get started whether or not you decide to take it further, and is only possible because of the Ammonite REPL!</p></div>



<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite-Ops" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite-Ops<a class=" scalatex-site-Styles-headerLink" href="#Ammonite-Ops" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">Rock-solid Filesystem Operations</h2></div><div class=" scalatex-site-Styles-content">
  <p>
    Ammonite-Ops is a library to make common filesystem operations in Scala as concise and easy-to-use as from the Bash shell, while being robust enough to use in large applications without getting messy. It lives in the same repo as the Ammonite REPL, but can easily be used stand-alone in a normal SBT/maven project.
</p>
  <p>
    To get started with Ammonite-Ops, add this to your <code>build.sbt</code>:
</p>
  <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;ammonite-ops&quot; % &quot;0.5.5&quot;</code>

  <p>
    And you're all set! Here's an example of some common operations you can do with Ammonite-Ops
</p>
  
  <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">import ammonite.ops._

// Pick the directory you want to work with,
// relative to the process working dir
val wd = cwd/'ops/'target/&quot;scala-2.11&quot;/&quot;test-classes&quot;/'example2

// Delete a file or folder, if it exists
rm! wd

// Make a folder named &quot;folder&quot;
mkdir! wd/'folder

// Copy a file or folder to a particular path
cp(wd/'folder, wd/'folder1)
// Copy a file or folder *into* another folder at a particular path
// There's also `cp.over` which copies it to a path and stomps over
// anything that was there before.
cp.into(wd/'folder, wd/'folder1)


// List the current directory
val listed = ls! wd

// Write to a file without pain! Necessary
// enclosing directories are created automatically
write(wd/'dir2/&quot;file1.scala&quot;, &quot;package example\nclass Foo{}&quot;)
write(wd/'dir2/&quot;file2.scala&quot;, &quot;package example\nclass Bar{}&quot;)

// Rename all .scala files inside the folder d into .java files
ls! wd/'dir2 | mv{case r&quot;$x.scala&quot; =&gt; s&quot;$x.java&quot;}

// List files in a folder
val renamed = ls! wd/'dir2

// Line-count of all .java files recursively in wd
val lineCount = ls.rec! wd |? (_.ext == &quot;java&quot;) | read.lines | (_.size) sum

// Find and concatenate all .java files directly in the working directory
ls! wd/'dir2 |? (_.ext == &quot;java&quot;) | read |&gt; write! wd/'target/&quot;bundled.java&quot;</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L116-L156" target="_blank"><i class="fa fa-link "></i></a></pre>

  <p>
    These examples make heavy use of Ammonite-Ops' <a href="#Paths">Paths</a>, <a href="#Operations">Operations</a> and <a href="#Extensions">Extensions</a> to achieve their minimal, concise syntax</p>
  <p>
    As you can see, Ammonite-Ops replaces the common mess of boilerplate:
</p>
  <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">def removeAll(path: String) = {
  def getRecursively(f: java.io.File): Seq[java.io.File] = {
    f.listFiles.filter(_.isDirectory).flatMap(getRecursively) ++ f.listFiles
  }
  getRecursively(new java.io.File(path)).foreach{f =&gt;
    println(f)
    if (!f.delete())
      throw new RuntimeException(&quot;Failed to delete &quot; + f.getAbsolutePath)
  }
  new java.io.File(path).delete
}
removeAll(&quot;target/folder/thing&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L194-L207" target="_blank"><i class="fa fa-link "></i></a></pre>

  <p>
    With a single, sleek expression:
</p>
  <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">rm! cwd/'target/'folder/'thing</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L211-L212" target="_blank"><i class="fa fa-link "></i></a></pre>

  <p>
    That handles the common case for you: recursively deleting folders, not-failing if the file doesn't exist, etc.
</p>
  <p>
    Note: Ammonite-Ops supports Windows experimentally, even if <a href="#Ammonite-REPL">Ammonite-REPL</a> does not. That means you can use these convenient filesystem operations and commands in your Scala programs that run on Windows. Try it out and let me know if there are problems.
</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Paths" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Paths<a class=" scalatex-site-Styles-headerLink" href="#Paths" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite uses strongly-typed data-structures to represent filesystem paths. The two basic versions are:
</p>
    <ul>
      <li>
        <code>Path</code>: an absolute path, starting from the root
</li>
      <li>
        <code>RelPath</code>: a relative path, not rooted anywhere
</li></ul>
    <p>
      Generally, almost all commands take absolute <code>Path</code>s. These are basically defined as:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">case class Path private[ops] (root: java.nio.file.Path, segments: Vector[String])</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/main/scala/ammonite/ops/Path.scala#L234-L235" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      With a number of useful operations that can be performed on them. Absolute paths can be created in a few ways:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Get the process' Current Working Directory. As a convention
// the directory that &quot;this&quot; code cares about (which may differ
// from the cwd) is called `wd`
val wd = cwd

// A path nested inside `wd`
wd/'folder/'file

// A path starting from the root
root/'folder/'file

// A path with spaces or other special characters
wd/&quot;My Folder&quot;/&quot;My File.txt&quot;

// Up one level from the wd
wd/up

// Up two levels from the wd
wd/up/up</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L216-L235" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Note that there are no in-built operations to change the `cwd`. In general you should not need to: simply defining a new path, e.g.
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val target = cwd/'target</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L237-L238" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Should be sufficient for most needs.
</p>
    <p>
      Above, we made use of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cwd</code> built-in path. There are a number of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s built into Ammonite:
</p>
    <ul>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cwd</code>: The current working directory of the process. This can't be changed in Java, so if you need another path to work with the convention is to define a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code> variable.</li>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">root</code>: The root of the filesystem.</li>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">home</code>: The home directory of the current user.</li>
      <li>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">makeTmp</code>: Creates a temporary folder and returns the path.
</li></ul>
    <h1 id="RelPaths" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RelPaths" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>RelPaths</h1>
      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s represent relative paths. These are basically defined as:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">case class RelPath private[ops] (segments: Vector[String], ups: Int) extends BasePathImpl{</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/main/scala/ammonite/ops/Path.scala#L130-L131" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        The same data structure as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s, except that they can represent a number of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">up</code>s before the relative path is applied. They can be created in the following ways:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// The path &quot;folder/file&quot;
val rel1 = 'folder/'file
val rel2 = 'folder/'file

// The path &quot;file&quot;; will get converted to a RelPath by an implicit
val rel3 = 'file

// The relative difference between two paths
val target = cwd/'target/'file
assert((target relativeTo cwd) == 'target/'file)

// `up`s get resolved automatically
val minus = cwd relativeTo target
val ups = up/up
assert(minus == ups)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L240-L255" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        In general, very few APIs take relative paths. Their main purpose is to be combined with absolute paths in order to create new absolute paths. e.g.
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val target = cwd/'target/'file
val rel = target relativeTo cwd
val newBase = root/'code/'server
assert(newBase/rel == root/'code/'server/'target/'file)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L260-L264" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">up</code> is a relative path that comes in-built:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val target = root/'target/'file
assert(target/up == root/'target)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L266-L268" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Note that all paths, both relative and absolute, are always expressed in a canonical manner:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">assert((root/'folder/'file/up).toString == &quot;/folder&quot;)
// not &quot;/folder/file/..&quot;

assert(('folder/'file/up).toString == &quot;folder&quot;)
// not &quot;folder/file/..&quot;</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L271-L276" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        So you don't need to worry about canonicalizing your paths before comparing them for equality or otherwise manipulating them.
</p>
    <h1 id="PathOperations" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#PathOperations" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Path Operations</h1>

      <p>
        Ammonite's paths are transparent data-structures, and you can always access the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">segments</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ups</code> directly. Nevertheless, Ammonite defines a number of useful operations that handle the common cases of dealing with these paths:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">sealed trait BasePath{
  type ThisType &lt;: BasePath
  /**
   * The individual path segments of this path.
   */
  def segments: Seq[String]

  /**
   * Combines this path with the given relative path, returning
   * a path of the same type as this one (e.g. `Path` returns `Path`,
   * `RelPath` returns `RelPath`
   */
  def /(subpath: RelPath): ThisType

  /**
   * Relativizes this path with the given `base` path, finding a
   * relative path `p` such that base/p == this.
   *
   * Note that you can only relativize paths of the same type, e.g.
   * `Path` &amp; `Path` or `RelPath` &amp; `RelPath`. In the case of `RelPath`,
   * this can throw a [[PathError.NoRelativePath]] if there is no
   * relative path that satisfies the above requirement in the general
   * case.
   */
  def relativeTo(target: ThisType): RelPath

  /**
   * This path starts with the target path, including if it's identical
   */
  def startsWith(target: ThisType): Boolean

  /**
   * The last segment in this path. Very commonly used, e.g. it
   * represents the name of the file/folder in filesystem paths
   */
  def last: String

  /**
    * Gives you the file extension of this path, or the empty
    * string if there is no extension
    */
  def ext: String


}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/main/scala/ammonite/ops/Path.scala#L44-L90" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        In this definition, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ThisType</code> represents the same type as the current path; e.g. a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>'s <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">/</code> returns a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> while a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>'s <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">/</code> returns a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>. Similarly, you can only compare or subtract paths of the same type.
</p>
      <p>
        Apart from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s themselves, a number of other data structures are convertible into <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s when spliced into a path using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">/</code>:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Symbols</code>s</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array[T]</code>s where <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">T</code> is convertible into a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[T]</code>s where <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">T</code> is convertible into a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>
</li></ul>
    <h1 id="ConstructingPaths" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ConstructingPaths" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Constructing Paths</h1>
      <p>
        Apart from built-ins like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cwd</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">root</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">home</code>, you can also construct Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code>s:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/cow/world/..&quot;
val absStr = &quot;/hello/world&quot;

assert(
  RelPath(relStr) == 'hello/'cow,
  Path(absStr) == root/'hello/'world

)

// You can also pass in java.io.File and java.nio.file.Path
// objects instead of Strings when constructing paths
val relIoFile = new java.io.File(relStr)
val absNioFile = java.nio.file.Paths.get(absStr)

assert(
  RelPath(relIoFile) == 'hello/'cow,
  Path(absNioFile) == root/'hello/'world,
  Path(relIoFile, root/'base) == root/'base/'hello/'cow
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L277-L296" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Trying to construct invalid paths fails with exceptions:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/..&quot;
intercept[java.lang.IllegalArgumentException]{
  Path(relStr)
}

val absStr = &quot;/hello&quot;
intercept[java.lang.IllegalArgumentException]{
  RelPath(absStr)
}

val tooManyUpsStr = &quot;/hello/../..&quot;
intercept[PathError.AbsolutePathOutsideRoot.type]{
  Path(tooManyUpsStr)
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L322-L336" target="_blank"><i class="fa fa-link "></i></a></pre>
      <p>
        As you can see, attempting to parse a relative path with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> or an absolute path with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code> throws an exception. If you're uncertain about what kind of path you are getting, you could use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code> to parse it:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/cow/world/..&quot;
val absStr = &quot;/hello/world&quot;
assert(
  BasePath(relStr) == 'hello/'cow,
  BasePath(absStr) == root/'hello/'world
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L300-L306" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        This converts it into a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code>, which is either a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>. It's then up to you to pattern-match on the types and decide what you want to do in each case.
</p>
      <p>
        You can also pass in a second argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path(..., base)</code>. If the path being parsed is a relative path, this <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">base</code> will be used to coerce it into an absolute path:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val relStr = &quot;hello/cow/world/..&quot;
val absStr = &quot;/hello/world&quot;
val basePath: BasePath = BasePath(relStr)
assert(
  Path(relStr, root/'base) == root/'base/'hello/'cow,
  Path(absStr, root/'base) == root/'hello/'world,
  Path(basePath, root/'base) == root/'base/'hello/'cow
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/PathTests.scala#L310-L318" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        For example, if you wanted the common behavior of converting relative paths to absolute based on your current working directory, you can pass in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cwd</code> as the second argument to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path(...)</code>. Apart from passing in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code>s, you can also pass in <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code>s you parsed early as a convenient way of converting it to a absolute path, if it isn't already one.
</p>
      <hr />

      <p>
        In general, Ammonite is very picky about the distinction between relative and absolute paths, and doesn't allow &quot;automatic&quot; conversion between them based on current-working-directory the same way many other filesystem APIs (Bash, Java, Python, ...) do. Even in cases where it's uncertain, e.g. you're taking user input as a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>, you have to either handle both possibilities with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">BasePath</code> or explicitly choose to convert relative paths to absolute using some base.</p>
      <p>
        While this adds some boilerplate, it should overall result in more robust filesystem code that doesn't contain bugs like <a href="https://github.com/valvesoftware/steam-for-linux/issues/3671">this one</a>.
</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Operations" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Operations<a class=" scalatex-site-Styles-headerLink" href="#Operations" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      <a href="#Paths">Paths</a> not aren't interesting on their own, but serve as a base to use to perform filesystem operations in a concise and easy to use way. Here is a quick tour of the core capabilities that Ammonite-Ops provides:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">import ammonite.ops._

// Let's pick our working directory
val wd: Path = cwd/'ops/'target/&quot;scala-2.11&quot;/&quot;test-classes&quot;/'example3

// And make sure it's empty
rm! wd
mkdir! wd

// Reading and writing to files is done through the read! and write!
// You can write `Strings`, `Traversable[String]`s or `Array[Byte]`s
write(wd/&quot;file1.txt&quot;, &quot;I am cow&quot;)
write(wd/&quot;file2.txt&quot;, Seq(&quot;I am cow&quot;, &quot;hear me moo&quot;))
write(wd/'file3, &quot;I weigh twice as much as you&quot;.getBytes)

// When reading, you can either `read!` a `String`, `read.lines!` to
// get a `Vector[String]` or `read.bytes` to get an `Array[Byte]`
read! wd/&quot;file1.txt&quot;        ==&gt; &quot;I am cow&quot;
read! wd/&quot;file2.txt&quot;        ==&gt; &quot;I am cow\nhear me moo&quot;
read.lines! wd/&quot;file2.txt&quot;  ==&gt; Vector(&quot;I am cow&quot;, &quot;hear me moo&quot;)
read.bytes! wd/&quot;file3&quot;      ==&gt; &quot;I weigh twice as much as you&quot;.getBytes

// These operations are mirrored in `read.resource`,
// `read.resource.lines` and `read.resource.bytes` to conveniently read
// files from your classpath:
val resourcePath = resource/'testdata/&quot;File.txt&quot;
read(resourcePath).length        ==&gt; 81
read.bytes(resourcePath).length  ==&gt; 81
read.lines(resourcePath).length  ==&gt; 4

// By default, `write` fails if there is already a file in place. Use
// `write.append` or `write.over` if you want to append-to/overwrite
// any existing files
write.append(wd/&quot;file1.txt&quot;, &quot;\nI eat grass&quot;)
write.over(wd/&quot;file2.txt&quot;, &quot;I am cow\nHere I stand&quot;)

read! wd/&quot;file1.txt&quot;        ==&gt; &quot;I am cow\nI eat grass&quot;
read! wd/&quot;file2.txt&quot;        ==&gt; &quot;I am cow\nHere I stand&quot;

// You can create folders through `mkdir!`. This behaves the same as
// `mkdir -p` in Bash, and creates and parents necessary
val deep = wd/'this/'is/'very/'deep
mkdir! deep
// Writing to a file also creates neccessary parents
write(deep/'deeeep/&quot;file.txt&quot;, &quot;I am cow&quot;)

// `ls` provides a listing of every direct child of the given folder.
// Both files and folders are included
ls! wd    ==&gt; Seq(wd/&quot;file1.txt&quot;, wd/&quot;file2.txt&quot;, wd/'file3, wd/'this)

// `ls.rec` does the same thing recursively
ls.rec! deep ==&gt; Seq(deep/'deeeep, deep/'deeeep/&quot;file.txt&quot;)

// You can move files or folders with `mv` and remove them with `rm!`
ls! deep  ==&gt; Seq(deep/'deeeep)
mv(deep/'deeeep, deep/'renamed_deeeep)
ls! deep  ==&gt; Seq(deep/'renamed_deeeep)

// `mv.into` lets you move a file into a
// particular folder, rather than to particular path
mv.into(deep/'renamed_deeeep/&quot;file.txt&quot;, deep)
ls! deep/'renamed_deeeep ==&gt; Seq()
ls! deep  ==&gt; Seq(deep/&quot;file.txt&quot;, deep/'renamed_deeeep)

// `mv.over` lets you move a file to a particular path, but
// if something was there before it stomps over it
mv.over(deep/&quot;file.txt&quot;, deep/'renamed_deeeep)
ls! deep  ==&gt; Seq(deep/'renamed_deeeep)
read! deep/'renamed_deeeep ==&gt; &quot;I am cow&quot; // contents from file.txt

// `rm!` behaves the same as `rm -rf` in Bash, and deletes anything:
// file, folder, even a folder filled with contents
rm! deep/'renamed_deeeep
rm! deep/&quot;file.txt&quot;
ls! deep  ==&gt; Seq()

// You can stat paths to find out information about any file or
// folder that exists there
val info = stat! wd/&quot;file1.txt&quot;
info.isDir  ==&gt; false
info.isFile ==&gt; true
info.size   ==&gt; 20
info.name   ==&gt; &quot;file1.txt&quot;

// Ammonite provides an implicit conversion from `Path` to
// `stat`, so you can use these attributes directly
(wd/&quot;file1.txt&quot;).size ==&gt; 20

// You can also use `stat.full` which provides more information
val fullInfo = stat.full(wd/&quot;file1.txt&quot;)
fullInfo.ctime: FileTime
fullInfo.atime: FileTime
fullInfo.group: GroupPrincipal</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L20-L114" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      In these definitions, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Op1</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Op2</code> are isomorphic to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Function1</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Function2</code>. The main difference is that ops can be called in two ways:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">rm(filepath)
rm! filepath
</code></pre>
    <p>
      The latter syntax allows you to use it more easily from the command line, where remembering to close all your parenthesis is a hassle. Indentation signifies nesting, e.g. in addition to <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write!</code> you also have <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write.append!</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write.over!</code>
</p>
    <h1 id="OperatorReference" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#OperatorReference" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Operator Reference</h1>
      <p>
        All of these operations are pre-defined and strongly typed, so feel free to jump to their implementation to look at what they do or what else is available. Here's a shortlist of the one that may interest you:
</p>
      <ul>
        
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls! path</code> <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.ls$">[doc]</a> returning <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Vector[Path]</code>, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.iter! path</code> returning a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Iterator[Path]</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec! path</code> <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.ls$$rec$">[doc]</a> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec.iter!</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read! path</code> <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.read$">[doc]</a> returning a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines! path</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.bytes! path</code> returning <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[String]</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array[Byte]</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.resource! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.read$$resource$">[doc]</a>, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.resource.lines! path</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.resource.bytes! path</code>, behaves the same as <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read!</code> but reads from your resource classpath instead of the filesystem</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write(path, contents)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.write$">[doc]</a>, which lets you write <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array[Byte]</code>s, and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq</code>s of those</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">rm! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.rm$">[doc]</a>, roughly Bash's <code>rm -rf</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mv(src, dest)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.mv$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cp(src, dest)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.cp$">[doc]</a>, roughly Bash's <code>cp -r</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">exists! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.exists$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">stat! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.stat$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">stat.full! path</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.stat$$full$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ln(src, dest)</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.ln$">[doc]</a></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">kill(9)! processId</code>, <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html#ammonite.ops.kill">[doc]</a>
</li></ul>
      <p>
        In general, each operator has sensible/safe defaults:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">rm</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cp</code> are recursive</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">rm</code> ignores the file if it doesn't exist</li>
        <li>
          all operations that create a file or folder (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mkdir</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mv</code>) automatically create any necessary parent directories</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write</code> also does <i>not</i> stomp over existing files by default. You need to use <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">write.over</code></li></ul>
      <p>
        In general, this should make these operations much easier to use; the defaults should cover the 99% use case without needing any special flags or fiddling.
</p>
    <h1 id="Extensions" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Extensions" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Extensions</h1>
      <p>
        Ammonite-Ops contains a set of extension methods on common types, which serve no purpose other than to make things more concise. These turn Scala from a &quot;relatively-concise&quot; language into one as tight as Bash scripts, while still maintaining the high level of type-safety and maintainability that comes with Scala code.
</p>
      <h2 id="Traversable" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Traversable" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Traversable</h2>
        <p>
          These extensions apply to any <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Traversable</code>: <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">List</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Array</code>s, and others.</p>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things | f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things map f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things || f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things flatMap f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |? f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things filter f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |&amp; f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things reduce f</code></li>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |! f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things foreach f</code></li></ul>
        <p>
          These should behave exactly the same as their implementations; their sole purpose is to make things more concise at the command-line.
</p>
      <h2 id="Pipeable" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Pipeable" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Pipeable</h2>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">thing |&gt; f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">f(thing)</code>
</li></ul>
        <p>
          This lets you flip around the function and argument, and fits nicely into the Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|</code> pipelines.
</p>
      <h2 id="Callable" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Callable" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Callable</h2>
        <ul>
          <li>
            <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">f! thing</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">f(thing)</code>
</li></ul>
        <p>
          This is another syntax-saving extension, that makes it easy to call functions without having to constantly be opening and closing brackets. It does nothing else.
</p>
    <h1 id="Chaining" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Chaining" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Chaining</h1>
      <p>
        The real value of Ammonite is the fact that you can pipe things together as easily as you could in Bash. No longer do you need to write reams of boilerplate. to accomplish simple tasks. Some of these chains are listed at the top of this readme, here are a few more fun examples:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Move all files inside the &quot;py&quot; folder out of it
ls! wd/&quot;py&quot; | mv.all*{case d/&quot;py&quot;/x =&gt; d/x }

// Find all dot-files in the current folder
val dots = ls! wd |? (_.last(0) == '.')

// Find the names of the 10 largest files in the current working directory
ls.rec! wd | (x =&gt; x.size -&gt; x) sortBy (-_._1) take 10

// Sorted list of the most common words in your .scala source files
def txt = ls.rec! wd |? (_.ext == &quot;scala&quot;) | read
def freq(s: Seq[String]) = s groupBy (x =&gt; x) mapValues (_.length) toSeq
val map = txt || (_.split(&quot;[^a-zA-Z0-9_]&quot;)) |&gt; freq sortBy (-_._2)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L170-L184" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        As you can see, you can often compose elaborate operations entirely naturally using the available pipes, without needing to remember any special flags or techniques.
</p>
      <p>
        Here's another example:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">// Ensure that we don't have any Scala files in the current working directory
// which have lines more than 100 characters long, excluding generated sources
// in `src_managed` folders.

def longLines(p: Path) =
  (p, read.lines(p).zipWithIndex |? (_._1.length &gt; 100) | (_._2))

val filesWithTooLongLines = (
  ls.rec! cwd |? (_.ext == &quot;scala&quot;)
              | longLines
              |? (_._2.length &gt; 0)
              |? (!_._1.segments.contains(&quot;src_managed&quot;))
)

assert(filesWithTooLongLines.length == 0)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ExampleTests.scala#L293-L308" target="_blank"><i class="fa fa-link "></i></a></pre>

  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="SpawningSubprocesses" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Spawning Subprocesses<a class=" scalatex-site-Styles-headerLink" href="#SpawningSubprocesses" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite-Ops provides easy syntax for anyone who wants to spawn sub-processes, e.g. commands like <code>ls</code> or <code>git commit -am &quot;wip&quot;</code>. This is provided through the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> operators, which are used as follows:
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ import ammonite.ops._
@ import ammonite.ops.ImplicitWd._
@ %ls
build.sbt	log		ops		readme		repl		terminal
echo		modules		project		readme.md	target		shell
res2: Int = 0
@ %%('ls)
res3: CommandResult =
build.sbt
echo
log
modules
ops
project
readme
readme.md
repl
target
terminal
...
</code></pre>
    <p>
      In short, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> lets you run a command as you would in bash, and dumps the output to standard-out in a similar way, returning the return-code. This lets you run <code>git</code> commands, edit files via <code>vim</code>, open <code>ssh</code> sessions or even start <code>SBT</code> or <code>Python</code> shells right from your Scala REPL!</p>
    <p>
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> on the other hand is intended for programmatic usage: rather than printing to stdout, it returns a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code>, which contains the standard output <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.out</code> and standard error <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.err</code> of the subprocess. These provide helper methods to retrieve the stdout or stderr as a list of lines
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res = %%('ls, &quot;ops/src/test/resources/testdata&quot;)
assert(res.out.lines == Seq(&quot;File.txt&quot;, &quot;folder1&quot;, &quot;folder2&quot;))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L13-L15" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Or as a single string:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res = %%('ls, &quot;ops/src/test/resources/testdata&quot;)
assert(res.out.string == &quot;File.txt\nfolder1\nfolder2\n&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L17-L19" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      Or as an array of bytes:
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">if(Unix()){
  val res = %%('echo, &quot;abc&quot;)
  val listed = res.out.bytes
  //        assert(listed == &quot;File.txt\nfolder\nfolder2\nFile.txt&quot;.getBytes)
  listed.toSeq
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L21-L27" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> throws an <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ShelloutException</code> containig the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code> if the return-code is non-zero.
</p>
    <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val ex = intercept[ShelloutException]{ %%('ls, &quot;does-not-exist&quot;) }
val res: CommandResult = ex.result
assert(
  res.exitCode != 0,
  res.err.string.contains(&quot;No such file or directory&quot;)
)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L44-L50" target="_blank"><i class="fa fa-link "></i></a></pre>

    <p>
      In both cases, you end up with a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code> can then be used however you like.</p>
    <p>
      You can also use backticks to execute commands which aren't valid Scala identifiers, e.g.
</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ %`ssh-add`
Enter passphrase for /Users/haoyi/.ssh/id_rsa:
</code></pre>
    <p>
      Lastly, you can also pass arguments into these subprocess calls, as Strings, Symbols or Seqs of Strings:</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ %git 'branch
  gh-pages
  history
* master
  speedip
res4: Int = 0

@ %%('git, 'branch)
res5: CommandResult =
  gh-pages
  history
* master
  speedip

@ %%('git, checkout, &quot;master&quot;)
Already on 'master'
res6: CommandResult =
M	readme/Index.scalatex
Your branch is up-to-date with 'origin/master'.

@ %git(&quot;checkout&quot;, 'master)
M	readme/Index.scalatex
Already on 'master'
Your branch is up-to-date with 'origin/master'.
res8: Int = 0

@ val stuff = List(&quot;readme.md&quot;, &quot;build.sbt&quot;)
stuff: List[String] = List(&quot;readme.md&quot;, &quot;build.sbt&quot;)
@ %('ls, '&quot;.gitignore&quot;, stuff)
.gitignore	build.sbt	readme.md</code></pre>
    <p>
      Ammonite-Ops currently does not provide many convenient ways of piping together multiple processes, but support may come in future if someone finds it useful enough to implement.
</p>
    <p>
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> calls subprocesses in a way that is compatible with a normal terminal. That means you can easily call things like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%vim</code> to open a text editor, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%python</code> to open up a Python terminal, or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%sbt</code> to open up the SBT prompt!</p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">@ %python
Python 2.7.6 (default, Sep  9 2014, 15:04:36)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; print &quot;Hello %s%s&quot; % (&quot;World&quot;, &quot;!&quot;*3)
Hello World!!!
&gt;&gt;&gt; ^D
res3: Int = 0

@ %sbt
[info] Loading global plugins from /Users/haoyi/.sbt/0.13/plugins
[info] Updating {file:/Users/haoyi/.sbt/0.13/plugins/}global-plugins...
[info] Resolving org.fusesource.jansi#jansi;1.4 ...
[info] Done updating.
[info] Set current project to haoyi (in build file:/Users/haoyi/)
&gt;
</code></pre>
    <p>
      <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> does not do this.
</p>
    <h1 id="EnvironmentVariables" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#EnvironmentVariables" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Environment Variables</h1>
      <p>
        Ammonite lets you pass in environment variables to subprocess calls; just pass them in as named arguments when you invoke the subprocess ia <code>%</code> or <code>%%</code>:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res0 = %%('bash, &quot;-c&quot;, &quot;echo \&quot;Hello$ENV_ARG\&quot;&quot;, ENV_ARG=12)
assert(res0.out.lines == Seq(&quot;Hello12&quot;))

val res1 = %%('bash, &quot;-c&quot;, &quot;echo \&quot;Hello$ENV_ARG\&quot;&quot;, ENV_ARG=12)
assert(res1.out.lines == Seq(&quot;Hello12&quot;))

val res2 = %%('bash, &quot;-c&quot;, &quot;echo 'Hello$ENV_ARG'&quot;, ENV_ARG=12)
assert(res2.out.lines == Seq(&quot;Hello$ENV_ARG&quot;))

val res3 = %%('bash, &quot;-c&quot;, &quot;echo 'Hello'$ENV_ARG&quot;, ENV_ARG=123)
assert(res3.out.lines == Seq(&quot;Hello123&quot;))</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L73-L84" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h1 id="InvokingFiles" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#InvokingFiles" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Invoking Files</h1>
      <p>
        You can invoke files on disk using <code>%</code> and <code>%%</code> the same way you can invoke shell commands:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res: CommandResult =
  %%(root/'bin/'bash, &quot;-c&quot;, &quot;echo 'Hello'$ENV_ARG&quot;, ENV_ARG=123)

assert(res.out.string.trim == &quot;Hello123&quot;)</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L56-L60" target="_blank"><i class="fa fa-link "></i></a></pre>

    <h1 id="CurrentWorkingDirectory" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#CurrentWorkingDirectory" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Current Working Directory</h1>
      <p>
        In Ammonite the current working directory is not a side-effect unlike in bash. Instead it is an argument to the command you are invoking. It can be passed in explicitly or implicitly.
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">val res1 = %.ls()(cwd) // explicitly
// or implicitly
import ammonite.ops.ImplicitWd._
val res2 = %ls</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L98-L102" target="_blank"><i class="fa fa-link "></i></a></pre>

      <p>
        Note how passing it inexplicitly, you need to use a <code>.</code> before the command-name in order for it to parse properly. That's a limitation of the Scala syntax that isn't likely to change. Another limitation is that when invoking a file, you need to call <code>.apply</code> explicitly rather than relying on the plain-function-call syntax:
</p>
      <pre class=" scalatex-site-Styles-hoverContainer"><code class="scala scalatex-site-Styles-highlightMe">if(Unix()){
  val output = %%.apply(scriptFolder/'echo_with_wd, 'HELLO)(root/'usr)
  assert(output.out.lines == Seq(&quot;HELLO /usr&quot;))
}</code><a class=" scalatex-site-Styles-headerLink" style="position: absolute;right: 0.5em;top: 0.5em;display: block;font-size: 24px;" href="https://github.com/lihaoyi/ammonite/tree/master/ops/src/test/scala/test/ammonite/ops/ShelloutTests.scala#L104-L108" target="_blank"><i class="fa fa-link "></i></a></pre></div>

<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Ammonite-Shell" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Ammonite-Shell<a class=" scalatex-site-Styles-headerLink" href="#Ammonite-Shell" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /><h2 style="font-weight: 300;color: #ccc;padding: 0px;margin-top: 0px;">Replacing Bash for the 21st Century</h2></div><div class=" scalatex-site-Styles-content">
  <p>
    Ammonite-Shell is a rock-solid system shell that can replace Bash as the interface to your operating system, <a href="#ScalaastheLanguage">using  Scala</a> as the primary command and scripting language, <a href="#RunningontheJVM">running on the JVM</a>. Apart from <a href="#ShellBasics">system operations</a>, Ammonite-Shell provides the full-range of <a href="#Scala/JavaAPIs">Java APIs</a> for usage at the command-line, including loading libraries from Maven Central.
</p>
  <p>
    Why would you want to use Ammonite-Shell instead of Bash? Possible reasons include:
</p>
  <ul>
    <li>
      You can <a href="http://stackoverflow.com/questions/19343390/bash-if-statement-with-white-space-in-variable">never remember the syntax to write an if-statement in Bash</a></li>
    <li>
      You are sick of googling the same set of inconsistent, ad-hoc commands over and over: &quot;<a href="http://stackoverflow.com/questions/12522269/bash-how-to-find-the-largest-file-in-a-directory-and-its-subdirectories">obviously</a> you need the flag <code>-nrk 7</code> to sort by file size!&quot;</li>
    <li>
      You've seen Bash's dynamic/sloppy nature <a href="https://github.com/valvesoftware/steam-for-linux/issues/3671">fail hard</a>, and don't want your future work to fall victim to the same bugs</li>
    <li>
      You think that technology has improved in the last <a href="https://en.wikipedia.org/wiki/Bourne_shell">38 years</a> and a modern systems shell should be better than the shells of our forefathers</li></ul>
  <p>
    If none of these apply to you, then likely you won't be interested. If any of these bullet points strikes a chord, then read on to get started. For more discussion about why this project exists, take a look at the presentation slides for <a href="https://tinyurl.com/beyondbash">Beyond Bash: shell scripting in a typed, OO language</a>, presented at Scala by the Bay 2015, or check out the section on <a href="#DesignDecisions&amp;Tradeoffs">Design Decisions &amp; Tradeoffs</a>.
</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="GettingAmmonite-Shell" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Getting Ammonite-Shell<a class=" scalatex-site-Styles-headerLink" href="#GettingAmmonite-Shell" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      To begin using Ammonite-Shell, simply  download the default <code>predef.scala</code> to configure your REPL to be a usable systems shell before downloading the <a href="#Ammonite-REPL">Ammonite-REPL</a> executable (below):
</p>
    <pre><code class="bash scalatex-site-Styles-highlightMe">$ mkdir ~/.ammonite; curl -L -o ~/.ammonite/predef.scala https://git.io/v2tpZ</code></pre>
    <pre><code class="bash scalatex-site-Styles-highlightMe">$ curl -L -o amm https://git.io/v2tpO; chmod +x amm; ./amm
</code></pre>
    <p>
      You can then start using Ammonite as a replacement for Bash:
</p>
    <img src="SystemShell.png" style="width: 100%;" />

  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="ShellBasics" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Shell Basics<a class=" scalatex-site-Styles-headerLink" href="#ShellBasics" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite-Shell isn't backwards compatible with Bash. It isn't even the same language, giving you access to all of Scala instead of the quirky Bash scripting language. Nevertheless, lots of things you'd expect in Bash turn up in Ammonite-Shell:
</p>
    <h1 id="WorkingDirectory" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#WorkingDirectory" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Working Directory</h1>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> pwd
/Users/haoyi/Dropbox (Personal)/Workspace/Ammonite</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span></span></pre></div>

      <p>
        Bash's <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">pwd</code> is instead called <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code>. Instead of being a subprocess that prints to stdout, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code> is simply a variable holding the working directory.</p>
      <p>
        As you can see, the path syntax is also different: as an absolute path, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code> must start from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">root</code> and the path segments must be quoted as Scala <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;string&quot;</code>s or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'symbol</code>s. Apart from that, however, it is basically the same. The <a href="#Paths">documentation about Paths</a> goes over the syntax and semantics of <a href="#Paths">Paths</a> in more detail.
</p>
      <p>
        You can navigate around the filesystem using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cd!</code>, instead of Bash's <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cd</code>:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> pwd
/Users/haoyi/Dropbox (Personal)/Workspace/Ammonite
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> cd target
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> pwd
/Users/haoyi/Dropbox (Personal)/Workspace/Ammonite/target
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> cd ..
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> pwd
/Users/haoyi/Dropbox (Personal)/Workspace/Ammonite</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>cd! </span><span style="color: #27ae60;">'target</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'target</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-target@ </span><span>wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'target</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-target@ </span><span>cd! up </span><span></span><span></span><span>
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">Path</span><span> = root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span></span></pre></div>

    <h1 id="ListingFiles" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ListingFiles" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Listing Files</h1>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls
LICENSE
appveyor.yml
build.sbt
integration
ops
project
readme
readme.md
repl
shell
sshd
target
temp.html
terminal</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.git&quot;</span><span></span><span>                          </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'project</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span></span><span>                    </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'readme</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.idea&quot;</span><span></span><span>                         </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span></span><span>                   </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'repl</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'LICENSE</span><span></span><span>                        </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'shell</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span></span><span>                  </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'sshd</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span></span><span>                     </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'target</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'integration</span><span></span><span>                    </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;temp.html&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'ops</span><span></span><span>                            </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'terminal</span><span></span><span>
</span></pre></div>

      <p>
        Bash's <code class="bash scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls</code> syntax is tweaked slightly to become <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!</code>. Apart from that, it basically does the same thing.
</p>
      <p>
        Listing files in other folders behaves similarly:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls project
Constants.scala
build.properties
build.sbt
project
target</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! </span><span style="color: #27ae60;">'project</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.idea&quot;</span><span></span><span>                         </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;Constants.scala&quot;</span><span></span><span>               </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'project</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.properties&quot;</span><span></span><span>              </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'target</span><span></span><span>
</span></pre></div>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls project/target
config-classes
resolution-cache
scala-2.10
streams</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! </span><span style="color: #27ae60;">'project</span><span>/</span><span style="color: #27ae60;">'target</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.history&quot;</span><span></span><span>                      </span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;scala-2.10&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;config-classes&quot;</span><span></span><span>                </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'streams</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;resolution-cache&quot;</span><span></span><span>
</span></pre></div>

      <p>
        Again, we have to use the quoted <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'symbol</code>/<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;string&quot;</code> syntax when defining <a href="#Paths">Paths</a>, but otherwise it behaves identically. You can press <code>&lt;tab&gt;</code> at any point after a <code>/</code> or halfway through a file-name to auto-complete it, just like in Bash.</p>
      <p>
        Listing recursively is done via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code>, instead of <code>find</code>:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> find ops/src/main
ops/src/main
ops/src/main/scala
ops/src/main/scala/ammonite
ops/src/main/scala/ammonite/ops
ops/src/main/scala/ammonite/ops/Extensions.scala
ops/src/main/scala/ammonite/ops/FileOps.scala
ops/src/main/scala/ammonite/ops/Model.scala
ops/src/main/scala/ammonite/ops/package.scala
ops/src/main/scala/ammonite/ops/Path.scala
ops/src/main/scala/ammonite/ops/Shellout.scala</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls.rec! </span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'main</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'scala</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;Extensions.scala&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;FileOps.scala&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;Model.scala&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;Path.scala&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;Shellout.scala&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scala</span><span>/</span><span style="color: #27ae60;">'ammonite</span><span>/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">&quot;package.scala&quot;</span><span></span><span>
</span></pre></div>

      <p>
        <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> and other commands are all functions defined by <a href="#Ammonite-Ops">Ammonite-Ops</a>.
</p>
    <h1 id="FilesystemOperations" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#FilesystemOperations" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Filesystem Operations</h1>
      <p>
        Ammonite-Shell uses <a href="#Ammonite-Ops">Ammonite-Ops</a> to provide a nice API to use filesystem operations. The default setup will <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">import ammonite.ops._</code> into your <a href="#Ammonite-REPL">Ammonite-REPL</a>, gives the nice path-completion shown above, and also provides some additional command-line-friendly functionality on top of the default <a href="#Ammonite-Ops">Ammonite-Ops</a> commands:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> mkdir target/test
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> echo &quot;hello&quot; &gt; target/test/hello.txt
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> cat target/test/hello.txt
hello
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls target/test
hello.txt
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> cp target/test/hello.txt target/test/hello2.txt
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls target/test
hello.txt
hello2.txt
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> mv target/test/hello.txt target/test/hello3.txt
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls target/test
hello2.txt
hello3.txt
</span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> rm -rf target/test</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>mkdir! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>write(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>, </span><span style="color: #27ae60;">&quot;hello&quot;</span><span>) </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>cp(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>, </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello2.txt&quot;</span><span>) </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span></span><span>    </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;hello2.txt&quot;</span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>mv(</span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello.txt&quot;</span><span>, </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">&quot;hello3.txt&quot;</span><span>) </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res6</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;hello2.txt&quot;</span><span></span><span>   </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;hello3.txt&quot;</span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>rm! </span><span style="color: #27ae60;">'target</span><span>/</span><span style="color: #27ae60;">'test</span><span> </span><span></span><span></span><span>
</span></pre></div>
    <h1 id="Piping" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Piping" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Piping</h1>
      <p>
        Ammonite allows piping similar to how Bash does it. Unlike Bash, Ammonite has a variety of <a href="#Extensions">pipes</a> you can use that do different things:</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things | f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things map f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things || f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things flatMap f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |? f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things filter f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |&amp; f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things reduce f</code></li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things |! f</code> is an alias for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">things foreach f</code>
</li></ul>
      <p>
        For example, this is how you can get the dot-files in the current directory:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls -a | grep &quot;^\.&quot;
.
..
.git
.gitignore
.idea
.travis.yml</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! cwd |? (</span><span style="color: #f39c12;">_</span><span>.last(</span><span style="color: #27ae60;">0</span><span>) == </span><span style="color: #27ae60;">'.'</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">Path</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.git&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.idea&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span>
)</span></pre></div>

      <p>
        Here, we're using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code> pipe, which basically performs a filter on the paths coming in on the left. In this case, we're checking that for each path, the first character of the last segment of that path is the character <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'.'</code>. This is slightly more verbose than Bash the bash equivalent shown above, but not by too much.</p>
      <p>
        Here is how to find the largest 3 files in a given directory tree:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> find ./repl/src -ls | sort -nrk 7 | head -3
150418777      672 -rw-r--r--    1 haoyi            849048494          340324 Feb 22 17:31 ./repl/src/test/resources/testdata/Resume.docx
150418781      448 -rw-r--r--    1 haoyi            849048494          227570 Feb 22 17:31 ./repl/src/test/resources/testdata/images/SystemShell.png
150418780      408 -rw-r--r--    1 haoyi            849048494          208328 Feb 22 17:31 ./repl/src/test/resources/testdata/images/Highlighting.png</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls.rec! wd/</span><span style="color: #27ae60;">'repl</span><span>/</span><span style="color: #27ae60;">'src</span><span> | (x =&gt; x.size -&gt; x.last) sortBy (-</span><span style="color: #f39c12;">_</span><span>._1) take </span><span style="color: #27ae60;">3</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[(</span><span style="color: #27ae60;">Long</span><span>, </span><span style="color: #27ae60;">String</span><span>)] = </span><span style="color: #f39c12;">List</span><span>(</span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">340324L</span><span>, </span><span style="color: #27ae60;">&quot;Resume.docx&quot;</span><span>), </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">227570L</span><span>, </span><span style="color: #27ae60;">&quot;SystemShell.png&quot;</span><span>), </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">208328L</span><span>, </span><span style="color: #27ae60;">&quot;Highlighting.png&quot;</span><span>))</span></pre></div>

      <p>
        And lastly, here is how to performa recursive line count of all the Scala files in your current directory tree:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> find ./ops/src/main -name '*.scala' | xargs wc -l
     143 ./ops/src/main/scala/ammonite/ops/Extensions.scala
     414 ./ops/src/main/scala/ammonite/ops/FileOps.scala
     137 ./ops/src/main/scala/ammonite/ops/Model.scala
      77 ./ops/src/main/scala/ammonite/ops/package.scala
     308 ./ops/src/main/scala/ammonite/ops/Path.scala
     162 ./ops/src/main/scala/ammonite/ops/Shellout.scala
    1241 total</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls.rec! wd/</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'main</span><span> |? (</span><span style="color: #f39c12;">_</span><span>.ext == </span><span style="color: #27ae60;">&quot;scala&quot;</span><span>) | read.lines | (</span><span style="color: #f39c12;">_</span><span>.size) sum </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">1242</span><span></span></pre></div>

      <p>
        For more examples of how to use Ammonite's pipes, check out the section on <a href="#Extensions">Extensions</a> and <a href="#Chaining">Chaining</a></p>
    <h1 id="Subprocesses" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Subprocesses" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Subprocesses</h1>
      <p>
        Ammonite provides a convenient way to spawn subprocesses using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> commands:
</p>
      <ul>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%cmd(arg1, arg2)</code>: Spawn a subprocess with the command <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cmd</code> and command-line arguments <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">arg1</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">arg2</code>. print out any stdout or stderr, take any input from the current console, and return the exit code when all is done.</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%cmd(arg1, arg2)</code>: Spawn a subprocess similar to using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%</code>, but return the stdout of the subprocess as a String, and throw an exception if the exit code is non-zero.
</li></ul>
      <p>
        For example, this is how you use the <code>bash</code> command to run a standalone bash script in Bash and Ammonite:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> bash ops/src/test/resources/scripts/echo HELLO
HELLO</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>%bash(</span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'resources</span><span>/</span><span style="color: #27ae60;">'scripts</span><span>/</span><span style="color: #27ae60;">'echo</span><span>, </span><span style="color: #27ae60;">&quot;HELLO&quot;</span><span>) </span><span></span><span></span><span>
HELLO
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">0</span><span></span></pre></div>
      <p>
        Note that apart from quoting each path segment as a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">'symbol</code>, we also need to quote <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;HELLO&quot;</code> as a string. That makes things slightly more verbose than a traditional shell, but also makes it much clearer when arguments are literals v.s. variables.
</p>
      <p>
        If you are only passing a single argument, or no arguments, Scala allows you to leave off parentheses, as shown:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> git branch
* master</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>%git </span><span style="color: #27ae60;">'branch</span><span> </span><span></span><span></span><span>
* master
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">0</span><span></span></pre></div>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> date
Mon Feb 22 17:58:29 SGT 2016</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>%date </span><span></span><span></span><span>
Mon Feb 22 17:58:46 SGT 2016
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">0</span><span></span></pre></div>

      <p>
        You can use Ammonite-Ops' support for <a href="#SpawningSubprocesses">Spawning Subprocesses</a> to call any external programs, even interactive ones like Python or SBT!
</p>
      <pre><code class="scala scalatex-site-Styles-highlightMe">@ %python
Python 2.7.6 (default, Sep  9 2014, 15:04:36)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; print &quot;Hello %s%s&quot; % (&quot;World&quot;, &quot;!&quot;*3)
Hello World!!!
&gt;&gt;&gt; ^D
res3: Int = 0

@ %sbt
[info] Loading global plugins from /Users/haoyi/.sbt/0.13/plugins
[info] Updating {file:/Users/haoyi/.sbt/0.13/plugins/}global-plugins...
[info] Resolving org.fusesource.jansi#jansi;1.4 ...
[info] Done updating.
[info] Set current project to haoyi (in build file:/Users/haoyi/)
&gt;
</code></pre>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Scripting" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Scripting<a class=" scalatex-site-Styles-headerLink" href="#Scripting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite-Shell uses <a href="https://www.scala-lang.org/">Scala</a> as its command and scripting language. Although the commands seem short and concise, you have the full power of the language available at any time. This lets you do things that are difficult or unfeasible to do when using a traditional shell like Bash.
</p>
    <h1 id="ScalaScripting" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScalaScripting" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scala Scripting</h1>
      <p>
        Since Ammonite-Shell runs Scala code, you can perform math:
      </p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>(</span><span style="color: #27ae60;">1</span><span> + </span><span style="color: #27ae60;">2</span><span>) * </span><span style="color: #27ae60;">3</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">9</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>math.pow(</span><span style="color: #27ae60;">4</span><span>, </span><span style="color: #27ae60;">4</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Double</span><span> = </span><span style="color: #27ae60;">256.0</span><span></span></pre>
      <p>
        Assign things to values (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code>s):
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> x = (</span><span style="color: #27ae60;">1</span><span> + </span><span style="color: #27ae60;">2</span><span>) * </span><span style="color: #27ae60;">3</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">x</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">9</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>x + x </span><span></span><span></span><span>
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">18</span><span></span></pre>

      <p>
        Define re-usable functions:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">def</span><span> addMul(x: </span><span style="color: #27ae60;">Int</span><span>) = (x + </span><span style="color: #27ae60;">2</span><span>) * </span><span style="color: #27ae60;">3</span><span> </span><span></span><span></span><span>
defined </span><span style="color: #27ae60;">function </span><span style="color: #16a085;">addMul</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>addMul(</span><span style="color: #27ae60;">5</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">21</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>addMul(</span><span style="color: #27ae60;">5</span><span>) + </span><span style="color: #27ae60;">1</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">22</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>addMul(</span><span style="color: #27ae60;">5</span><span> + </span><span style="color: #27ae60;">1</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">24</span><span></span></pre>

      <p>
        Or make use of mutable <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">var</code>s, conditionals or loops:</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">var</span><span> total = </span><span style="color: #27ae60;">0</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">total</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">0</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">for</span><span>(i &lt;- </span><span style="color: #27ae60;">0</span><span> until </span><span style="color: #27ae60;">100</span><span>){ </span><span style="color: #f39c12;">if</span><span> (i % </span><span style="color: #27ae60;">2</span><span> == </span><span style="color: #27ae60;">0</span><span>) total += </span><span style="color: #27ae60;">1</span><span> } </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>total </span><span></span><span></span><span>
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">50</span><span></span></pre>
    <h1 id="TypedValues" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#TypedValues" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Typed Values</h1>
      <p>
        In Ammonite-Shell, everything is a typed value and not just a stream of bytes as is the case in Bash. That means you can assign them to variables and call methods on them just like you can in any programming language:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> files = ls! wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">files</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.git&quot;</span><span></span><span>                          </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'project</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span></span><span>                    </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'readme</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.idea&quot;</span><span></span><span>                         </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span></span><span>                   </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'repl</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'LICENSE</span><span></span><span>                        </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'shell</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span></span><span>                  </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'sshd</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span></span><span>                     </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'target</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'integration</span><span></span><span>                    </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;temp.html&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'ops</span><span></span><span>                            </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'terminal</span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> count = files.length </span><span></span><span></span><span>
</span><span style="color: #16a085;">count</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">18</span><span></span></pre>
      <p>
        As is the case in Scala, you can annotate types. 
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> files: </span><span style="color: #27ae60;">LsSeq</span><span> = ls! wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">files</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.git&quot;</span><span></span><span>                          </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'project</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span></span><span>                    </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'readme</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.idea&quot;</span><span></span><span>                         </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span></span><span>                   </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'repl</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'LICENSE</span><span></span><span>                        </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'shell</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span></span><span>                  </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'sshd</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span></span><span>                     </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'target</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'integration</span><span></span><span>                    </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;temp.html&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'ops</span><span></span><span>                            </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'terminal</span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> count: </span><span style="color: #27ae60;">Int</span><span> = files.length </span><span></span><span></span><span>
</span><span style="color: #16a085;">count</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">18</span><span></span></pre>

      <p>
        This is often not required (e.g. in the earlier example), since Scala has type inference, but it may make your code clearer. Furthermore, if you make a mistake, having types annotated will help the compiler give a more specific error message.
</p>
      <p>
        The fact that variables are typed means if you try to perform the wrong operation on a variable, you get an error even before the code runs:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> files = ls! wd </span><span></span><span></span><span>
</span><span style="color: #16a085;">files</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.git&quot;</span><span></span><span>                          </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'project</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span></span><span>                    </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'readme</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.idea&quot;</span><span></span><span>                         </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span></span><span>                   </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'repl</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'LICENSE</span><span></span><span>                        </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'shell</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span></span><span>                  </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'sshd</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span></span><span>                     </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'target</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'integration</span><span></span><span>                    </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;temp.html&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'ops</span><span></span><span>                            </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'terminal</span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls + </span><span style="color: #27ae60;">123</span><span> </span><span></span><span></span><span>
</span><span style="color: #c0392b;">Main.scala:242: type mismatch;
 found   : Int(123)
 required: String
ls + 123
     ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span></span></pre>

      <p>
        The fact that Ammonite-Shell uses typed, structured values instead of byte streams makes a lot of things easier. For example, all the common data structures like Arrays and Maps are present:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> numbers = Array(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">numbers</span><span>: </span><span style="color: #27ae60;">Array</span><span>[</span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Array</span><span>(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>)
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(</span><span style="color: #27ae60;">0</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">1</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(</span><span style="color: #27ae60;">3</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">10</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers.sum </span><span></span><span></span><span>
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">20</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(</span><span style="color: #27ae60;">3</span><span>) = </span><span style="color: #27ae60;">100</span><span> </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers.sum </span><span></span><span></span><span>
</span><span style="color: #16a085;">res5</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">110</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> scores = Map(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span> -&gt; </span><span style="color: #27ae60;">5</span><span>, </span><span style="color: #27ae60;">&quot;scala&quot;</span><span> -&gt; </span><span style="color: #27ae60;">0</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">scores</span><span>: </span><span style="color: #27ae60;">Map</span><span>[</span><span style="color: #27ae60;">String</span><span>, </span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Map</span><span>(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span> -&gt; </span><span style="color: #27ae60;">5</span><span>, </span><span style="color: #27ae60;">&quot;scala&quot;</span><span> -&gt; </span><span style="color: #27ae60;">0</span><span>)
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>scores(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res7</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">5</span><span></span></pre>
      <p>
        Naturally, these data structures are typed too! Trying to put the wrong sort of value inside of them results in compilation errors before the code gets a chance to run:</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> numbers = Array(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">numbers</span><span>: </span><span style="color: #27ae60;">Array</span><span>[</span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Array</span><span>(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">6</span><span>, </span><span style="color: #27ae60;">10</span><span>)
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> myValue = </span><span style="color: #27ae60;">&quot;3&quot;</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">myValue</span><span>: </span><span style="color: #27ae60;">String</span><span> = </span><span style="color: #27ae60;">&quot;3&quot;</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(myValue) </span><span style="color: #2980b9;">// Doesn't work</span><span> </span><span></span><span></span><span>
</span><span style="color: #c0392b;">Main.scala:245: type mismatch;
 found   : String
 required: Int
numbers(myValue) // Doesn't work
        ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(</span><span style="color: #27ae60;">1</span><span>) = myValue </span><span style="color: #2980b9;">// Also doesn't work</span><span> </span><span></span><span></span><span>
</span><span style="color: #c0392b;">Main.scala:245: type mismatch;
 found   : String
 required: Int
numbers(1) = myValue // Also doesn't work
             ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span> </span><span style="color: #2980b9;">// Need to convert the string to an Int</span><span> </span><span></span><span></span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(myValue.toInt) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res2</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">10</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(</span><span style="color: #27ae60;">1</span><span>) = myValue.toInt </span><span></span><span></span><span>

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>numbers(</span><span style="color: #27ae60;">1</span><span>) = </span><span style="color: #27ae60;">&quot;2&quot;</span><span>.toInt </span><span></span><span></span><span>
</span></pre>  
      <p></p>    
        In general, apart from the filesystem-specific commands, you should be able to do anything you would expect to be able to do in a Scala shell or Java project. This documentation isn't intended to be a full tutorial on the Scala language, check out the <a href="https://www.scala-lang.org/documentation/">Scala Documentation</a> if you want to learn more!
    <h1 id="Scala/JavaAPIs" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Scala/JavaAPIs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scala/Java APIs</h1>
      <p>
        Apart from the pipe operators described in the earlier section on <a href="#Piping">Piping</a>, Ammonite-Shell allows you to call any valid Scala method on any value; it's just Scala after all! Here's an example using normal Scala collection operations to deal with a list of files, counting how many files exist for each extension:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> allFiles = ls.rec! </span><span style="color: #27ae60;">'ops</span><span>/</span><span style="color: #27ae60;">'src</span><span>/</span><span style="color: #27ae60;">'test</span><span>/</span><span style="color: #27ae60;">'resources</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">allFiles</span><span>: </span><span style="color: #27ae60;">LsSeq</span><span> = 
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'scripts</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'testdata</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scripts</span><span>/</span><span style="color: #27ae60;">'echo</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'scripts</span><span>/</span><span style="color: #27ae60;">'echo_with_wd</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">&quot;File.txt&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder1</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder1</span><span>/</span><span style="color: #27ae60;">&quot;Yoghurt Curds Cream Cheese.txt&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2a</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2b</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'testdata</span><span>/</span><span style="color: #27ae60;">'folder2</span><span>/</span><span style="color: #27ae60;">'folder2a</span><span>/</span><span style="color: #27ae60;">&quot;I am.txt&quot;</span><span></span><span>
</span><span style="color: #f39c12;">...</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> extensionCounts = allFiles.groupBy(</span><span style="color: #f39c12;">_</span><span>.ext).mapValues(</span><span style="color: #f39c12;">_</span><span>.length) </span><span></span><span></span><span>
</span><span style="color: #16a085;">extensionCounts</span><span>: </span><span style="color: #27ae60;">Map</span><span>[</span><span style="color: #27ae60;">String</span><span>, </span><span style="color: #27ae60;">Int</span><span>] = </span><span style="color: #f39c12;">Map</span><span>(</span><span style="color: #27ae60;">&quot;txt&quot;</span><span> -&gt; </span><span style="color: #27ae60;">4</span><span>, </span><span style="color: #27ae60;">&quot;&quot;</span><span> -&gt; </span><span style="color: #27ae60;">8</span><span>)</span></pre>

      <p>
        Any Java APIs are likewise available:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>System.out.println(</span><span style="color: #27ae60;">&quot;Hello from Java!&quot;</span><span>) </span><span></span><span></span><span>
Hello from Java!

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">import</span><span> java.util.</span><span style="color: #f39c12;">_</span><span> </span><span></span><span></span><span>
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">java.util._</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> date = </span><span style="color: #f39c12;">new</span><span> </span><span style="color: #27ae60;">Date</span><span>() </span><span></span><span></span><span>
</span><span style="color: #16a085;">date</span><span>: </span><span style="color: #27ae60;">Date</span><span> = Mon Feb 22 18:02:28 SGT 2016
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>date.getDay() </span><span></span><span></span><span>
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">1</span><span></span></pre>

      <p>
        In fact, Ammonite-Shell allows you to ask for any published third-party Java/Scala library for usage in the shell, and have them downloaded, automatically cached, and made available for use. e.g. we can load popular libraries like <a href="https://github.com/google/guava">Google Guava</a> and using it in the shell:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">import</span><span> com.google.common.collect.ImmutableBiMap </span><span style="color: #2980b9;">// Doesn't work</span><span> </span><span></span><span></span><span>
</span><span style="color: #c0392b;">Main.scala:246: object google is not a member of package com
import com.google.common.collect.ImmutableBiMap // Doesn't work
           ^</span><span>
</span><span style="color: #c0392b;">Compilation Failed</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>load.ivy(</span><span style="color: #27ae60;">&quot;com.google.guava&quot;</span><span> % </span><span style="color: #27ae60;">&quot;guava&quot;</span><span> % </span><span style="color: #27ae60;">&quot;18.0&quot;</span><span>) </span><span style="color: #2980b9;">// Load from Maven Central</span><span> </span><span></span><span></span><span>
:: loading settings :: url = jar:file:/Users/haoyi/Dropbox%20(Personal)/Workspace/Ammonite/repl/target/scala-2.11/ammonite-repl-0.5.5-2.11.7!/org/apache/ivy/core/settings/ivysettings.xml
:: resolving dependencies :: com.google.guava#guava-caller;working
	confs: [default]
	found com.google.guava#guava;18.0 in central
	found com.google.code.findbugs#jsr305;1.3.9 in chain-resolver

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">import</span><span> com.google.common.collect.ImmutableBiMap </span><span style="color: #2980b9;">// Works now</span><span> </span><span></span><span></span><span>
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">com.google.common.collect.ImmutableBiMap // Works now</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> bimap = ImmutableBiMap.of(</span><span style="color: #27ae60;">1</span><span>, </span><span style="color: #27ae60;">&quot;one&quot;</span><span>, </span><span style="color: #27ae60;">2</span><span>, </span><span style="color: #27ae60;">&quot;two&quot;</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">&quot;three&quot;</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">bimap</span><span>: </span><span style="color: #27ae60;">ImmutableBiMap</span><span>[</span><span style="color: #27ae60;">Int</span><span>, </span><span style="color: #27ae60;">String</span><span>] = {1=one, 2=two, 3=three}
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>bimap.get(</span><span style="color: #27ae60;">1</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res3</span><span>: </span><span style="color: #27ae60;">String</span><span> = </span><span style="color: #27ae60;">&quot;one&quot;</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>bimap.inverse.get(</span><span style="color: #27ae60;">&quot;two&quot;</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">2</span><span></span></pre>

      <p>
        Or Joda Time:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>load.ivy(</span><span style="color: #27ae60;">&quot;joda-time&quot;</span><span> % </span><span style="color: #27ae60;">&quot;joda-time&quot;</span><span> % </span><span style="color: #27ae60;">&quot;2.8.2&quot;</span><span>)  </span><span></span><span></span><span>
:: loading settings :: url = jar:file:/Users/haoyi/Dropbox%20(Personal)/Workspace/Ammonite/repl/target/scala-2.11/ammonite-repl-0.5.5-2.11.7!/org/apache/ivy/core/settings/ivysettings.xml
:: resolving dependencies :: joda-time#joda-time-caller;working
	confs: [default]
	found joda-time#joda-time;2.8.2 in central
	found org.joda#joda-convert;1.2 in central

</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">import</span><span> org.joda.time.{DateTime, Period, Duration} </span><span></span><span></span><span>
</span><span style="color: #27ae60;">import </span><span style="color: #16a085;">org.joda.time.{DateTime, Period, Duration}</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> dt = </span><span style="color: #f39c12;">new</span><span> </span><span style="color: #27ae60;">DateTime</span><span>(</span><span style="color: #27ae60;">2005</span><span>, </span><span style="color: #27ae60;">3</span><span>, </span><span style="color: #27ae60;">26</span><span>, </span><span style="color: #27ae60;">12</span><span>, </span><span style="color: #27ae60;">0</span><span>, </span><span style="color: #27ae60;">0</span><span>, </span><span style="color: #27ae60;">0</span><span>) </span><span></span><span></span><span>
</span><span style="color: #16a085;">dt</span><span>: </span><span style="color: #27ae60;">DateTime</span><span> = 2005-03-26T12:00:00.000+08:00
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #f39c12;">val</span><span> plusPeriod = dt.plus(Period.days(</span><span style="color: #27ae60;">1</span><span>)) </span><span></span><span></span><span>
</span><span style="color: #16a085;">plusPeriod</span><span>: </span><span style="color: #27ae60;">DateTime</span><span> = 2005-03-27T12:00:00.000+08:00
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>dt.plus(</span><span style="color: #f39c12;">new</span><span> </span><span style="color: #27ae60;">Duration</span><span>(</span><span style="color: #27ae60;">24L</span><span>*</span><span style="color: #27ae60;">60L</span><span>*</span><span style="color: #27ae60;">60L</span><span>*</span><span style="color: #27ae60;">1000L</span><span>)) </span><span></span><span></span><span>
</span><span style="color: #16a085;">res4</span><span>: </span><span style="color: #27ae60;">DateTime</span><span> = 2005-03-27T12:00:00.000+08:00</span></pre>

      <p>
        See the section on <a href="#ArtifactLoading">Artifact Loading</a> to learn more.
</p>
    <h1 id="Writing/LoadingScripts" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#Writing/LoadingScripts" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Writing/Loading Scripts</h1>
      <p>
        You can write scripts in the same way you write commants, and load them using the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.script(...)</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module(...)</code> methods. To read more about this, check out the documentation on <a href="#ScriptFiles">Script Files</a>.</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Utilities" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Utilities<a class=" scalatex-site-Styles-headerLink" href="#Utilities" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Apart from the core filesystem operations provided by <a href="#Ammonite-Ops">Ammonite-Ops</a>, and the Scala language functionality inherent to the <a href="#Ammonite-REPL">Ammonite-REPL</a>, Ammonite-Shell also provides a few utilities meant purely for interactive use. These should be familiar to anyone who has used a Bash shell.
</p>
    <h1 id="time" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#time" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>time</h1>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> time ls -a
.
..
.git
.gitignore
.idea
.travis.yml
LICENSE
appveyor.yml
build.sbt
integration
ops
project
readme
readme.md
repl
shell
sshd
target
temp.html
terminal

real	0m0.009s
user	0m0.002s
sys	0m0.004s</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>time{ls!} </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: (</span><span style="color: #27ae60;">LsSeq</span><span>, </span><span style="color: #27ae60;">concurrent</span><span>.</span><span style="color: #27ae60;">duration</span><span>.</span><span style="color: #27ae60;">FiniteDuration</span><span>) = </span><span style="color: #f39c12;"></span><span>(
  
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.git&quot;</span><span></span><span>                          </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'project</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span></span><span>                    </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'readme</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">&quot;.idea&quot;</span><span></span><span>                         </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;.travis.yml&quot;</span><span></span><span>                   </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'repl</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">'LICENSE</span><span></span><span>                        </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'shell</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;appveyor.yml&quot;</span><span></span><span>                  </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'sshd</span><span></span><span>
</span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;build.sbt&quot;</span><span></span><span>                     </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'target</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'integration</span><span></span><span>                    </span><span style="color: #27ae60;"></span><span style="color: #27ae60;">&quot;temp.html&quot;</span><span></span><span>
</span><span style="color: #16a085;"></span><span style="color: #27ae60;">'ops</span><span></span><span>                            </span><span style="color: #16a085;"></span><span style="color: #27ae60;">'terminal</span><span></span><span>
,
</span><span style="color: #f39c12;">...</span><span></span></pre></div>

      <p>
        Just as bash provides a <code>time</code> command that you can use to see how long a command took to run, Ammonite-Shell provides a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">time</code> function which serves the same purpose.</p>
      <p>
        While the bash version spits out the time in an ad-hoc table format, stuck together with the output of the command, Ammonite-Shell's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">time</code> instead returns a tuple containing the expression that was evaluated, and the time taken to evaluate it.
</p>
    <h1 id="grep" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#grep" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>grep</h1>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls -a . | grep re
.gitignore
readme
readme.md
repl</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! wd || grep! </span><span style="color: #27ae60;">&quot;re&quot;</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">GrepResult</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  </span><span style="color: #f39c12;">...</span><span> (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.gitigno</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">re</span><span></span><span style="color: #27ae60;">&quot;</span><span>,
  </span><span style="color: #f39c12;">...</span><span>opbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">re</span><span></span><span style="color: #27ae60;">adme</span><span>,
  </span><span style="color: #f39c12;">...</span><span>x (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">re</span><span></span><span style="color: #27ae60;">adme.md&quot;</span><span>,
  </span><span style="color: #f39c12;">...</span><span>Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">re</span><span></span><span style="color: #27ae60;">pl</span><span>
)</span></pre></div>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls -a . | grep re
.gitignore
readme
readme.md
repl</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! wd |? grep! </span><span style="color: #27ae60;">&quot;re&quot;</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">Path</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;.gitignore&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'readme</span><span>,
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;readme.md&quot;</span><span>,
  root/</span><span style="color: #27ae60;">'Users</span><span>/</span><span style="color: #27ae60;">'haoyi</span><span>/</span><span style="color: #27ae60;">&quot;Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'repl</span><span>
)</span></pre></div>

      <p>
        Ammonite provides its own <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> command, which lets you easily perform ad-hoc searches within a list.</p>
      <p>
        As shown above, Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> can be used via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">||</code> (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">flatMap</code>) or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code> (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">filter</code>). In the case of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">||</code>, it displays the matches found, highlighted, with some additional context before and after the match. When used with <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code>, it simply returns the relevant items. In general, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">||</code> is useful for manual exploration, while <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">|?</code> is useful in scripts where you want to deal with the list of matched results later.</p>
      <p>
        By default, Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> matches a string as a literal. If you want to match via a regex, append a <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.r</code> to the string literal to turn it into a regex:
</p>
      <div><pre><span style="color: #000;"></span><span style="color: #8e44ad;">bash$</span><span style="color: #000;"> ls -a . | grep -G &quot;re[a-z]\+&quot;
readme
readme.md
repl</span></pre><pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>ls! wd || grep! </span><span style="color: #27ae60;">&quot;re[a-z]+&quot;</span><span>.r </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Seq</span><span>[</span><span style="color: #27ae60;">GrepResult</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  </span><span style="color: #f39c12;">...</span><span>opbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">readme</span><span></span><span style="color: #27ae60;"></span><span>,
  </span><span style="color: #f39c12;">...</span><span>x (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">readme</span><span></span><span style="color: #27ae60;">.md&quot;</span><span>,
  </span><span style="color: #f39c12;">...</span><span>Dropbox (Personal)&quot;</span><span>/</span><span style="color: #27ae60;">'Workspace</span><span>/</span><span style="color: #27ae60;">'Ammonite</span><span>/</span><span style="color: #27ae60;">'</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">repl</span><span></span><span style="color: #27ae60;"></span><span>
)</span></pre></div>

      <p>
        Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> isn't limited to &quot;filesystem&quot;-y things; <i>any</i> collection of objects can be piped through <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code>! For example, here's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> being used to quickly search through the JVM system properties:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #2980b9;">// I'm only interested in OS-related properties, show them to me!</span><span> </span><span></span><span></span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>sys.props || grep! </span><span style="color: #27ae60;">&quot;os|OS&quot;</span><span>.r </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">collection</span><span>.</span><span style="color: #27ae60;">mutable</span><span>.</span><span style="color: #27ae60;">Iterable</span><span>[</span><span style="color: #27ae60;">GrepResult</span><span>] = </span><span style="color: #f39c12;">ArrayBuffer</span><span>(
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;sun.</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">.patch.level&quot;</span><span>, </span><span style="color: #27ae60;">&quot;unknown&quot;</span><span>),
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">.arch&quot;</span><span>, </span><span style="color: #27ae60;">&quot;x86_64&quot;</span><span>),
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">.name&quot;</span><span>, </span><span style="color: #27ae60;">&quot;Mac </span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">OS</span><span></span><span style="color: #27ae60;"> X&quot;</span><span>),
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">.version&quot;</span><span>, </span><span style="color: #27ae60;">&quot;10.10.5&quot;</span><span>),
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;http.nonProxyH</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">ts&quot;</span><span>, </span><span style="color: #27ae60;">&quot;local|*.local|169.254/16|*.169.254/16&quot;</span><span>),
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;java.awt.printerjob&quot;</span><span>, </span><span style="color: #27ae60;">&quot;sun.lwawt.mac</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">x.CPrinterJob&quot;</span><span>,
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;awt.toolkit&quot;</span><span>, </span><span style="color: #27ae60;">&quot;sun.lwawt.mac</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">x.LWCToolkit&quot;</span><span>,
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;socksNonProxyH</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">ts&quot;</span><span>, </span><span style="color: #27ae60;">&quot;local|*.local|169.254/16|*.169.254/16&quot;</span><span>),
  </span><span style="color: #f39c12;"></span><span>(</span><span style="color: #27ae60;">&quot;ftp.nonProxyH</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">os</span><span></span><span style="color: #27ae60;">ts&quot;</span><span>, </span><span style="color: #27ae60;">&quot;local|*.local|169.254/16|*.169.254/16&quot;</span><span>)
)</span></pre>

      <p>
        You can even use Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> to dig through the methods of an object, even large messy objects with far-too-many methods to go over by hand hunting for what you want:
</p>
      <pre><span></span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>typeOf(compiler).members.size </span><span style="color: #2980b9;">// Too many methods to dig through!</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res0</span><span>: </span><span style="color: #27ae60;">Int</span><span> = </span><span style="color: #27ae60;">1566</span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span></span><span style="color: #2980b9;">// I forgot what I want but I think it has Raw in the name</span><span> </span><span></span><span></span><span>
</span><span></span><span></span><span style="color: #8e44ad;">haoyi-Ammonite@ </span><span>typeOf(compiler).members || grep! </span><span style="color: #27ae60;">&quot;Raw&quot;</span><span> </span><span></span><span></span><span>
</span><span style="color: #16a085;">res1</span><span>: </span><span style="color: #27ae60;">Iterable</span><span>[</span><span style="color: #27ae60;">GrepResult</span><span>] = </span><span style="color: #f39c12;">List</span><span>(
  class </span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">TreePrinter,
  method new</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">TreePrinter,
  method is</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">Parameter,
  method is</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">,
  method is</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">Type,
  method is</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">IfWithoutArgs,
  method show</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">$default$7,
  method show</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">$default$6,
  method show</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">$default$5,
  method show</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">$default$4,
  method show</span><span style="color: #2980b9;"></span><span style="color: #2980b9;background-color: #f39c12;">Raw</span><span></span><span style="color: #27ae60;">$default$3,
</span><span style="color: #f39c12;">...</span><span></span></pre>
      <p>
        In general, Ammonite's <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> serves the same purpose of <code>grep</code> in the Bash shell: a quick and dirty way to explore large amounts of semi-structured data. You probably don't want to build your enterprise business logic on top of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code>'s string matching. While you're working, though, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">grep</code> can be a quick way to find items of interest in collections of things (anything!) too large to sift through by hand, when you're not yet sure exactly what you want.
</p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="DesignDecisions&amp;Tradeoffs" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Design Decisions &amp; Tradeoffs<a class=" scalatex-site-Styles-headerLink" href="#DesignDecisions&amp;Tradeoffs" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite-Shell takes a fundamentally different architecture from traditional shells, or even more-modern shell-alternatives. Significant differences include:</p>
    <ul>
      <li>
        The command &amp; scripting language is a standard, well-known application language (<a href="https://www.scala-lang.org/">Scala</a>) rather than one specially-designed for the shell</li>
      <li>
        The shell runs on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a>, and can execute or integrate-with arbitrary Java/JVM code or libraries.</li></ul>
    <p>
      In this section we'll examine each of these decisions and their consequences in turn. As the incumbents in this space, we'll be looking at traditional system shells like <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">Bash</a>, <a href="https://en.wikipedia.org/wiki/Z_shell">Zsh</a> or <a href="http://fishshell.com/">Fish</a>, as well as popular non-system REPLs like the Python/<a href="https://ipython.org/">IPython</a> REPL.
</p>
    <h1 id="ScalaastheLanguage" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#ScalaastheLanguage" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Scala as the Language</h1>
      <p>
        The use of Scala as the command &amp; scripting language is unusual among shells, for many reasons. Firstly, most shells implement their own, purpose built language: Bash, Zsh, Fish, and even more obscure ones like Xonsh each implement their own language. Secondly, all of these languages are extremely dynamic, and apart from those most popular languages with REPLs (Python, Ruby, Javascript, ...) tend to be dynamical, interpreted languages. Scala falls at the opposite end of the spectrum: statically typed and compiled.</p>
      <p>
        Scala brings many changes over using traditional dynamic, interpreted REPL languages:</p>
      <ul>
        <li>
          The code being entered in the shell takes time to compile. The first command easily takes 3-4 to compile, and even when the compiler is &quot;warm&quot; there is a 0.2-0.3 second delay before any command begins executing.</li>
        <li>
          Once compiled, the code runs extremely fast: compute-intensive code easily runs <a href="http://benchmarksgame.alioth.debian.org/u64q/compare.php?lang=scala&amp;lang2=python3">50-100x faster</a> in Scala vs Python or Bash, once you've paid the cost of compiling it.</li>
        <li>
          Many mistakes get caught even before a command begins executing. This is less valuable for small commands that execute quickly, but for slower commands processing more data, it is nice to get an error after 0.2s of compilation rather than 10s into execution.</li></ul>
      <p>
        Apart from the differences between Scala and dynamic languages (Python, Ruby, etc.) for REPL usage, Scala is even further away from the sort of ad-hoc, ultra-dynamic languages most often associated with traditional shells (Bash, sh, zsh, etc.). In particular:</p>
      <ul>
        <li>
          Scala provides a set of proper data structures for you to work with. Rather than just byte-streams, you have unicode <code>String</code>s, proper numbers like <code>Int</code> or <code>Double</code>, absolute <code>Path</code>s and relative <code>RelPath</code>s, <code>Array</code>s, <code>Map</code>s, <code>Iterator</code>s and all sorts of other handy data-structures. Many commands return objects which have fields: this sounds simple until you realize that none of bash/zsh/fish behave this way. </li>
        <li>
          Scala is a general-purpose language: you can do math, you can work with Strings, you can write non-trivial algorithms quickly and easily. While this is not surprising coming from a Python REPL, these simple tasks are difficult-to-impossible in traditional system shells like Bash.</li>
        <li>
          Scala runs most code in the same process. While you can <a href="#SpawningSubprocesses">shell-out to subprocesses in Ammonite</a> using the <code>%</code> syntax, most commands like <code>ls!</code> and <code>rm!</code> are simple functions living in-process rather than in separate processes. This reduces the overhead as compared to spawning new processes each time, but does cause some additional risk: if a command causes the process to crash hard, the entire shell fails. In bash, only that command would fail.</li></ul>
      <p>
        The latter set of tradeoffs would be also present in many of the shell-replacements written in dynamic languages, like <a href="http://xonsh.org/">Xonsh</a> which is written in Python. The earlier set, on the other hand, are pretty unique to Ammonite using Scala. There are both positive and negative points in this list.
</p>
    <h1 id="RunningontheJVM" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#RunningontheJVM" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Running on the JVM</h1>
      <p>
        Running Ammonite directly on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a> again is very different from how most shells work: most have their own scripting language, and their own interpreter. Most are implemented in C. What is it like running your code directly as bytecode on the JVM? Here are some of the negatives:
</p>
      <ul>
        <li>
          You get JVM boot time; although some of the initial several-second delay is due to the Scala compiler's slowness, some of it is also due to the cost of JVM classloading and initialization. While a hello-world JVM project loads instantly, one which uses a large number of class-files takes longer. In contrast, shells written in C load basically instantly.</li>
        <li>
          You get the JVM bloat: Ammonite, implemented in only a few thousand lines of code, wraps up to become a 30mb <code>.jar</code> file. That's already larger than most other shells out there, and gets &gt;100mb larger if you bundle the JVM along with it! In general, the JVM class-file format is bloated and inefficient, and there is no way to exclude to numerous un-needed parts of the JVM during the initial download. <a href="http://openjdk.java.net/projects/jigsaw/">Project Jigsaw</a> will help with this when it finally lands in <a href="http://openjdk.java.net/projects/jdk9/">Java 9</a>.</li>
        <li>
          Ammonite uses hundreds of megabytes (~500mb at last count) of memory, again orders-of-magnitude more than an interpreter written in C or Python. The JVM has traditionally been a very pointer-heavy, memory-intensive platform for running code, and it shows. <a href="http://openjdk.java.net/projects/valhalla/">Project Valhalla</a> would help with this, also scheduled to land in Java 9.
</li></ul>
      <p>
        In general, the JVM has traditionally been used as a server-side platform for long-runing services, and its slow-startup and bloated disk/memory footprints are a symptom of that. Running on the JVM also has some upsides, though:
</p>
      <ul>
        <li>
          Ammonite code runs ridiculously fast, once you've paid 0.2-0.3s for its compilation. 50x faster than Python or Bash! This is not a trivial multiplier, and really makes a different if you're dealing with non-trivial data sets: a computation that takes a minute in Ammonite might take an hour if done at the Python REPL! This means that a moderately-large computation which may require special tools, libraries or optimizations to perform in Python might be trivial to implement naively in Ammonite while still enjoying reasonable speed.</li>
        <li>
          Ammonite can make use of any JVM APIs, and there are a lot of them! The JVM is a general-purpose platform for a general purpose language (Java), and thus has APIs for doing all sorts of things: dealing with <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">dates and times</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html">math</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/package-summary.html">networks</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html">threads</a>, and many other things. While you may not always need all of these capabilities, it is nice to have them at your disposal where necessary.</li>
        <li>
          Ammonite can make use of any Java/JVM libraries, and the excelent infrastructure used by Java developers to download and manage them! Any library is just a <a href="#ArtifactLoading">load.ivy</a> away. Need to parse Python source into an AST? Load <a href="https://search.maven.org/#search%7Cga%7C1%7Ca%3A%22jython-standalone%22">Jython</a> and just do it. Need a high-performance web server? Load <a href="http://doc.akka.io/docs/akka-stream-and-http-experimental/1.0-M2/scala/http/">Akka-HTTP</a>. Need some data someone stored in a YAML file? Load <a href="https://bitbucket.org/asomov/snakeyaml">SnakeYAML</a> and parse it. You don't even need to download and manage these libraries yourself: just <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> them from Ammonite, and Java's excellent dependency-management infrastructure will download them (along with any transitive dependencies!), cache them locally, and make them available to your code.
</li></ul>
      <p>
        There are both pros and cons with running Ammonite on the JVM: we gain its heavy startup/memory overhead, but also get access to its high-performance <a href="https://en.wikipedia.org/wiki/Just-in-time_compilation">JIT</a>, massive ecosystem of available packages.
</p>
    <h1 id="GoalsofAmmonite-Shell" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#GoalsofAmmonite-Shell" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>Goals of Ammonite-Shell</h1>
      <p>
        Overall, Ammonite-Shell blurs the line between a &quot;programming language REPL&quot; like IPython or Ruby's IRB and a &quot;system shell&quot; like Bash or Zsh. Like system shells, Ammonite-Shell provides concise filesystem operations, path-completion, and easy spawning of subprocesses. Like programming language REPLs, it provides a full-fledged, general-purpose language for you to use, rather than a crippled cut-down command-language that is available in most system shells. 
</p>
      <p>
        The goal is to provide something general enough to use as both a system shell and a general-purpose programming language. Traditionally, there has always been some tension when deciding between these:
</p>
      <ul>
        <li>
          Should I write this script in Bash? I'm already using Bash as my shell</li>
        <li>
          It's getting complicated, I can't follow the logic in Bash. Should I re-write it in Python?</li>
        <li>
          If I write it in Python, I'll need to deal with argument-parsing and forwarding between Bash and Python and Bash, which is annoying</li>
        <li>
          Since my scripts are in Python, should I use Python/IPython as my shell instead of Bash when dealing with these things?</li>
        <li>
          But if I use Python/IPython as my shell, basic filesystem operations becomes impossible
</li></ul>
      <p>
        Traditionally, there really has been no good answer to this dilemma: whether you use Bash or Python to write your scripts, whether you use Bash or Python as your shell, there is always something frustrating about the set-up.
</p>
      <p>
        With Ammonite-Shell, there is no dilemma. You can use the same concise, general-purpose language for your shell as you would for your scripts, large or small. In Ammonite-Shell, you can concisely deal with files at the command-line with the same language you use to write maintainable scripts, large or small, and the same language that you use to write rock-solid application code. 
</p></div>



<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Reference" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Reference<a class=" scalatex-site-Styles-headerLink" href="#Reference" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div><div class=" scalatex-site-Styles-content">
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Community" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Community<a class=" scalatex-site-Styles-headerLink" href="#Community" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Ammonite is primarily maintained by <a href="https://github.com/lihaoyi">Li Haoyi</a>, with a lot of help from <a href="https://github.com/laci37">Laszlo Mero</a> over the summer through <a href="https://developers.google.com/open-source/gsoc/">Google Summer of Code</a>, and help from many other <a href="https://github.com/lihaoyi/Ammonite/graphs/contributors">contributors</a>. We have an active Gitter channel and a mailing list:</p>
    <ul>
      <li>
        <a href="https://gitter.im/lihaoyi/Ammonite">Gitter Channel</a></li>
      <li>
        <a href="https://groups.google.com/forum/#!forum/ammonite-scala">Mailing List</a>
</li></ul>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Talks" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Talks<a class=" scalatex-site-Styles-headerLink" href="#Talks" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      I've also given a number of talks about Ammonite at conferences:
</p>
    <ul>
      <li>
        <a href="https://vimeo.com/148552858">Rock-solid Shell Scripting in Scala</a>, at Scala Exchange 2015</li>
      <li>
        <a href="https://vimeo.com/143819744">Shell scripting in a typed, OO language</a>, at New Object Oriented Languages 2015.</li>
      <li>
        <a href="https://www.youtube.com/watch?v=dP5tkmWAhjg">Beyond Bash: shell scripting in a typed, OO language</a>, at Scala by the Bay 2015. <a href="https://tinyurl.com/beyondbash">Slides</a>
</li></ul>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Scaladoc" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Scaladoc<a class=" scalatex-site-Styles-headerLink" href="#Scaladoc" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Here's the Scaladoc for the various projects:
  </p>
    <ul>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/ops/index.html">Ammonite-Ops</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/terminal/index.html">Ammonite-Terminal</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/repl/index.html">Ammonite-Repl</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/shell/index.html">Ammonite-Shell</a></li>
      <li>
        <a href="https://lihaoyi.github.io/Ammonite/api/sshd/index.html">Ammonite-Sshd</a>
  </li></ul>
    <p>
      Although it's best to read the documentation on this page to learn how to use these projects, the Scaladoc is still useful as a reference.
  </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Changelog" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Changelog<a class=" scalatex-site-Styles-headerLink" href="#Changelog" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <h1 id="0.5.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.5</h1>
      <ul>
        <li>
          Experimental support for Ammonite-Ops in Windows! I haven't tested it but basic CI passes <a href="https://ci.appveyor.com/project/lihaoyi/ammonite">here</a>, so try it out and let me know if there are problems (#120)</li>
        <li>
          Changes around Ammonite-Ops's definition of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s: they now wrap a <code>java.nio.file.Path</code> (#346), and thus can be used on Windows, on multiple drives, or with virtual filesystems such as <a href="https://github.com/google/jimfs">JimFS</a>.</li>
        <li>
          Construction of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s from various types (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">String</code>s, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.nio.file.Path</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">java.io.File</code>) is much more well behaved &amp; consistent now. See <a href="#ConstructingPaths">Constructing Paths</a> for details.</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.resource! root/'foo</code> is now <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read! resource/'foo</code></li>
        <li>
          Parser improvements which fix bugs when trying to write some multi-line snippets #343</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cp</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">mv</code> now have <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.into</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">.over</code> modes #206</li>
        <li>
          Wrapping content is automatically shifted onto a new line, to avoid problems when copying and pasting #205
</li></ul>
    <h1 id="0.5.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.4</h1>
      <ul>
        <li>
          Improve the pretty-printing for <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Range.Inclusive</code> #337, thanks to <a href="https://github.com/Saheb">Saheb</a></li>
        <li>
          More fixes to shadowing behavior of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">type</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">val</code>s #199</li>
        <li>
          Pressing <code>BACKSPACE</code> now drops you out of history-browsing properly, preserving your edits if you then press <code>ENTER</code> without entering any other characters #338</li></ul>
    <h1 id="0.5.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.3</h1>
      <ul>
        <li>
          Added support for multi-line prompts, thanks to <a href="https://github.com/thirstycrow">thirstycrow</a></li>
        <li>
          Fix #312 lsing empty directory gives error, thanks to <a href="https://github.com/coderabhishek">coderabhishek</a></li>
        <li>
          Implemented <a href="#HistorySearch">History Search</a>, also known as reverse-i-search/Ctrl-R</li>
        <li>
          Fixed #325: error due to function types with by-name parameters</li>
        <li>
          Fixed #258: java.util.NoSuchElementException: head of empty list in Ammonite-REPL</li>
        <li>
          Fixed #198: NoSuchElementException thrown in REPL when using a type alias to refer to a shapeless coproduct</li>
        <li>
          Warnings can now be enabled with the flag <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">compiler.settings.nowarn.value = false</code></li>
        <li>
          Stopped Ivy from spitting out countless useless <code>unknown resolver null</code> warnings when resolving dependencies (#144)</li>
        <li>
          Fixed edge cases around import shadowing and sequencing (#199, #248)</li>
        <li>
          Started the <a href="#REPLCookbook">REPL Cookbook</a>, examples of using the Ammonite REPL to do useful work.
  
  </li></ul>
    <h1 id="0.5.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.2</h1>
      <ul>
        <li>
          Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/80">#80: Support artifact resolvers to load libraries not published to maven central</a>, by <a href="https://github.com/etorreborre">Eric Torreborre</a></li>
        <li>
          Fixed <a href="https://github.com/lihaoyi/Ammonite/issues/301">#310: java.util.NoSuchElementException: None.get on Shift+Tab without selection</a>, by <a href="https://github.com/senia-psm">senia-psm</a></li></ul>
    <h1 id="0.5.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.1</h1>
      <ul>
        <li>
          Fix performance regression causing slowness when C&amp;Ping large snippets #274</li>
        <li>
          Added the ability to pass <a href="#ScriptArguments">Script Arguments</a> to Ammonite scripts from an external command line (e.g. bash) #277</li>
        <li>
          Iterator-returning commands like <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!!</code> <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec!!</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines!!</code> have been renamed <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.iter!</code> <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec.iter!</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">read.lines.iter!</code>, to help cut down on cryptic operators</li>
        <li>
          Added the <a href="#time">time</a> command to Ammonite-Shell, roughly equivalent to the bash <code>time</code> command, allowing easy timing of simple commands</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> now exposes basic configurability of the recursion, allowing you to skip directories or controlling the pre/post-order of results</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s no longer permit <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;.&quot;</code> or <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">&quot;..&quot;</code> as a path segment #215</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Path</code>s and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">RelPath</code>s now us <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Vector[String]</code> instead of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[String]</code> as the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">segments</code> data-structure, promising more consistent semantics</li>
        <li>
          Pretty-printing of the results of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls!</code> now properly gets truncated when too large #209</li>
        <li>
          Cross-build for 2.10.6 #282</li>
        <li>
          Refactor of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">CommandResult</code> type being returned from the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">%%</code> operator, to now properly capture the raw byte output, stdout, stderr, exit code. See <a href="#SpawningSubprocesses">Spawning Subprocesses</a> for details. #207</li>
        <li>
          Added a new <a href="#grep">grep</a> command.</li>
        <li>
          Added support for word navigation with Ctrl+Arrow in Linux (#217), thanks to <a href="https://github.com/cranst0n">Ian McIntosh</a></li>
        <li>
          Moved the initialization calls from <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.repl.Repl.run</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.repl.Repl.debug</code> into <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.repl.Main.run</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ammonite.repl.Main.debug</code></li></ul>
    <h1 id="0.5.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.5.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.5.0</h1>
      <ul>
        <li>
          Fixed <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">def&lt;tab&gt;</code> auto-complete crasher #257, thanks to <a href="https://github.com/edwardsmatt">Matthew Edwards</a>!</li>
        <li>
          Fixed input-height bug around multi-line selection that would case the prompt to fly up the console</li>
        <li>
          Multi-line-select tab-indent (and shift-tab-dedent) now works!</li>
        <li>
          Pressing <code>[Enter]</code> now only submits the input if your cursor is at the bottom</li>
        <li>
          Added a powerful <a href="#Undo">Undo</a> API, letting you save your work at any point in time and return to it later.</li>
        <li>
          Compiled-code-caches are now properly invalidated when you change project-code while using Ammonite as a REPL for an existing SBT project.</li>
        <li>
          Simplify the way shelling to to run files as subprocesses works, and align with documentation (#234)
  
  </li></ul>
    <h1 id="0.4.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.9</h1>
      <ul>
        <li>
          Update to fastparse/scalaparse 0.3.1</li>
        <li>
          Fix for perennial classpath problems, thanks to <a href="https://github.com/jrudolph">Johannes Rudolph</a>!</li>
        <li>
          Fix wildcard-imports from Java libraries like Joda or Guava #213</li>
        <li>
          Added an MIT license</li>
        <li>
          Slightly more robust tab completion #252, thanks to <a href="https://github.com/ssanj">Sanjiv Sahayam</a>!</li>
        <li>
          Properly handly EOF in standard input #242, thanks to <a href="https://github.com/patrick-premont">Patrick Premont</a>!</li></ul>
    <h1 id="0.4.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.8</h1>
      <ul>
        <li>
          Swapped to G1 garbage collector to <a href="https://github.com/lihaoyi/Ammonite/issues/216">reduce unnecessary memory footprint</a></li>
        <li>
          Allow splicing <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Seq[String]</code>s into subprocess arguments</li>
        <li>
          Fix source packaging which was causing problems with ensime</li>
        <li>
          Allow shebang line to make Ammonite scripts more conveniently executable</li>
        <li>
          Robustify line-breaking-logic</li></ul>
    <h1 id="0.4.7" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.7" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.7</h1>
      <ul>
        <li>
          Path-completion now works when using Ammonite as a filesystem shell</li>
        <li>
          Ammonite's filesystem functionality (<code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">cd!</code>, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">wd</code>, path-completion) has been pulled out of Ammonite-REPL, and is now available separately as <a href="#Ammonite-Shell">Ammonite-Shell</a>.</li>
        <li>
          Improve the pretty-printing of the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">ls.rec</code> commands</li>
        <li>
          Ammonite can now be used as a <a href="#RemoteREPL">Remote REPL</a> into an already-running Scala process, letting you SSH in to poke around at any time while it's running, thanks to <a href="https://github.com/dant3">Viacheslav Blinov</a></li>
        <li>
          Fix execution of files via symbols in the current working directory.</li>
        <li>
          <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Load.ivy</code> now properly attempts to load artifacts from the local <code>~/.ivy/cache</code>, <code>~/.ivy/local</code> and <code>~/.m2</code> folders, before fetching from maven central</li>
        <li>
          Wrote up a good amount of documentation for <a href="#Ammonite-Shell">Ammonite-Shell</a>: using Ammonite as a Bash replacement</li></ul>
    <h1 id="0.4.6" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.6" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.6</h1>
      <ul>
        <li>
          Provide a way of <a href="#InvokingFiles">Invoking Files</a> and passing <a href="#EnvironmentVariables">Environment Variables</a></li>
        <li>
          Documented existing approach for setting <a href="#CompilerFlags">Compiler Flags</a></li>
        <li>
          Fixed a bug in the readline re-implementation causing barely-full lines in the terminal to mess up cursor positioning and line re-drawing</li>
        <li>
          Remove <code>cache1234567890abcdef1234567890abcdef</code> objects from the autocomplete list, because they're not helpful</li>
        <li>
          Trim all the useless members of <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Any</code> from the default import lists.</li>
        <li>
          Fix a file-handle-leak for most usages of <code>read.lines</code> and <code>ls</code>/<code>ls.rec</code></li>
        <li>
          Fix bugs <a href="https://github.com/lihaoyi/Ammonite/issues/186">#186</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/152">#152</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/149">#149</a>, <a href="https://github.com/lihaoyi/Ammonite/issues/180">#180</a></li></ul>
    <h1 id="0.4.5" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.5" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.5</h1>
      <ul>
        <li>
          Fix for running Ammonite using OpenJDK, thanks to <a href="https://github.com/jrudolph">Johannes Rudolph</a></li>
        <li>
          Support for HOME and END keys, thanks to <a href="https://github.com/jrudolph">Johannes Rudolph</a></li>
        <li>
          Fix for incorrect syntax highlighting (<a href="https://github.com/lihaoyi/Ammonite/issues/159">#159</a>)</li>
        <li>
          Support for loading compiler plugins, thanks to <a href="https://github.com/alexarchambault">Alexandre Archambault</a></li>
        <li>
          You can now use Ammonite as a <a href="#Debugging">Debugging</a> tool like Python's pdb, placing an interactive breakpoint anywhere within a normal Scala application
  </li></ul>
    <h1 id="0.4.4" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.4" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.4</h1>
      <ul>
        <li>
          <a href="https://github.com/lihaoyi/Ammonite/pull/153">Lots</a> <a href="https://github.com/lihaoyi/Ammonite/pull/158">and</a> <a href="https://github.com/lihaoyi/Ammonite/pull/157">lots</a> of terminal improvements, courtesy of <a href="https://github.com/non">Erik Osheim</a></li>
        <li>
          Only the last <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">@</code>-delimited block in a script loaded via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code> gets its names dumped into the REPL's environment now, letting you create some semblance of hygiene, thanks to <a href="https://github.com/laci37">Laszlo Mero</a></li></ul>
    <h1 id="0.4.3" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.3" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.3</h1>
      <ul>
        <li>
          Remove embarassing debug println left behind in autocomplete code</li>
        <li>
          Fix <code>pathSeparator</code> so Ammonite-REPL is at least basically-runnable on windows, although buggy</li>
        <li>
          Update to more robust version of pprint to fix <a href="https://github.com/lihaoyi/Ammonite/issues/140">#140</a></li></ul>
    <h1 id="0.4.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.2</h1>
      <ul>
        <li>
          Fix <a href="https://github.com/lihaoyi/Ammonite/issues/139">#139: Can't fix typos?</a></li>
        <li>
          Fix bad wrapping of long lines in ammonite-repl</li></ul>
    <h1 id="0.4.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.1</h1>
      <ul>
        <li>
          Fix crasher running the REPL on new machines</li></ul>
    <h1 id="0.4.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.4.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.4.0</h1>
      <ul>
        <li>
          Re-added support for 2.10.x, minus features that don't work in it (e.g. scope-aware type-printing)</li>
        <li>
          Added a <a href="#Ammonite">standalone distributable</a> that comes bundled with Scala 2.10.4 or 2.11.7, letting you quickly load and experiment with libraries without SBT</li>
        <li>
          User input now has <a href="#SyntaxHighlighting">Syntax Highlighting</a> by default!</li>
        <li>
          Exception stack traces are now <a href="#SyntaxHighlighting">highlighted</a> as well, to make them easier to read</li>
        <li>
          <a href="#Pretty-printedoutput">Pretty-printing</a> has been extracted into a separate project, and aside from that is greatly improved. Many more common cases (e.g. sealed trait hierarchies) are now pretty-printed rather than falling back to <code>toString</code></li>
        <li>
          Exposed the <a href="#ConfigurableTruncation">show</a> function by default, letting you pretty-print any value with custom configuration (wrapping-width, truncation-height, colors, ...)</li>
        <li>
          Fixed cases where PPrint/TPrint was causing compilation errors</li>
        <li>
          Persistent data is now stored in a <code>~/.ammonite</code> folder. This includes <code>~/.ammonite/history</code>, <code>~/.ammonite/predef.scala</code>, and various cache, thanks to <a href="https://github.com/laci37">Laszlo Mero</a></li>
        <li>
          You can now define a <code>~/.ammonite/predef.scala</code> <a href="#Configuration">Configuration</a> file which will be executed the first thing when the Ammonite REPL is loaded. This is useful for common imports, <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code>ing libraries, or other configuration for your REPL</li>
        <li>
          Added the ability to load arbitrary <a href="#ScriptFiles">Script Files</a> via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.exec</code> and <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.module</code>, thanks to <a href="https://github.com/laci37">Laszlo Mero</a></li>
        <li>
          <a href="#Configuration">Configuration</a> that was previously passed into the <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">REPL</code>s constructor is now done in-REPL,</li>
        <li>
          <a href="#ImprovedEditing">Multi-line editing and other features</a> via a custom terminal interface that should behave just like readline, but with added conveniences.</li>
        <li>
          Removed the ability to reload classes; using <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> no longer causes all existing values to be lazily recomputed.</li>
        <li>
          Added the <a href="#FilesystemOperations">cd! and wd</a> built-ins to make working with filesystem operations via <a href="#Ammonite-Ops">Ammonite-Ops</a> more pleasant</li>
        <li>
          Evaluated values of type <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Unit</code> are no longer echo-ed to the user</li>
        <li>
          Performance improvements to the startup time of the REPL, with <a href="https://github.com/lihaoyi/Ammonite/issues/135">more to come</a></li>
        <li>
          Third-party library resolution via <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">load.ivy</code> is now cached after the first call, letting you e.g. load libraries in your <code>~/.ammonite/predef.scala</code> without waiting for the slow ivy-resolution every startup</li>
        <li>
          Standardized the use of <a href="#Refs">Refs</a> for configuration, including the ability to bind them &quot;live&quot; to the value of an expression.</li>
        <li>
          Allows you to trivially <a href="#SpawningSubprocesses">spawn subprocesses</a>, letting you run <code>git</code> commands, edit files via <code>vim</code>, open <code>ssh</code> sessions or even start <code>SBT</code> or <code>Python</code> shells right from your Scala REPL</li></ul>
    <h1 id="0.3.2" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.2" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.2</h1>
      <ul>
        <li>
          Fix pretty-printing of higher-kinded types.</li>
        <li>
          Drop support for 2.10.x; ammonite is 2.11.x-only now
  </li></ul>
    <h1 id="0.3.1" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.1" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.1</h1>
      <ul>
        <li>
          Many of the collection <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">PPrint</code>s are much lazier and will avoid stringifying the whole collection if its going to get truncated anyway.</li>
        <li>
          Types now get printed semi-qualified (depending on what's in scope), with simple highlighting.</li>
        <li>
          You can define custom <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">TPrint[T]</code>s to provide custom printing for any type.</li>
        <li>
          Operator-named two-param generic types are now printed infix by default.
  </li></ul>
    <h1 id="0.3.0" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.3.0" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.3.0</h1>
      <ul>
        <li>
          allow <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">predef</code> parameter to be passed into <code class="scala scalatex-site-Styles-highlightMe" style="display: inline;padding: 0px;margin: 0px;">Main.run()</code> call, letting you configure initialization commands or imports</li>
        <li>
          Compilation errors in expressions no longer show synthetic code in the message</li>
        <li>
          Ivy module loading now lets you configure verbosity level</li>
        <li>
          Defining macros in the REPL and using them in subsequent lines now works</li>
        <li>
          Output lines are now truncated past a certain length, which is configurable, thanks to <a href="https://github.com/laci37">Laszlo Mero</a>
  </li></ul>
    <h1 id="0.2.9" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.2.9" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.2.9</h1>
      <ul>
        <li>
          Lots of improvements to <code>Ctrl-C</code> and <code>Ctrl-D</code> handling, to make it behave more like other REPLs
  </li></ul>
    <h1 id="0.2.8" style="display: block;" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><a class=" scalatex-site-Styles-headerLink" href="#0.2.8" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a>0.2.8</h1>
      <ul>
        <li>
          Fix #47: PPrint derivation fails with nested case class</li>
        <li>
          Fix #14: Exception when trying to use Ammonite REPL #15 by cross building against Scala 2.10.{3,4,5} and 2.11.{3,4,5,6}</li>
        <li>
          Autocomplete results are sorted alphabetically (Fixed #42)</li>
        <li>
          Fix #39: nothing echoed on multiple import</li>
        <li>
          Importing things from Java packages now works properly</li>
        <li>
          Capture Exceptions and expose them to repl as repl.lastException including exceptions causing Failures</li></ul></div>

</div><script>
    scalatex.scrollspy.Controller().main(
      [{"value":"Ammonite","children":[]},{"value":"Ammonite-REPL","children":[{"value":"Getting Started","children":[{"value":"Ammonite-REPL in SBT","children":[]}]},{"value":"Features","children":[{"value":"Artifact Loading","children":[]},{"value":"Pretty-printed output","children":[]},{"value":"Configurable Truncation","children":[]},{"value":"Syntax Highlighting","children":[]},{"value":"Undo","children":[]},{"value":"Improved Editing","children":[{"value":"Multi-line editing","children":[]},{"value":"Desktop key-bindings","children":[]},{"value":"Console key-bindings","children":[]},{"value":"History Search","children":[]}]},{"value":"Superior Autocomplete","children":[]},{"value":"Interrupting run-away execution with Ctrl-C","children":[]},{"value":"Compiler-crash Robustness","children":[]},{"value":"Block Input","children":[]},{"value":"Other Fixes","children":[]}]},{"value":"Builtins","children":[]},{"value":"Script Files","children":[{"value":"Script Arguments","children":[]}]},{"value":"Configuration","children":[{"value":"Refs","children":[]},{"value":"Compiler Flags","children":[]}]},{"value":"Debugging","children":[{"value":"Remote REPL","children":[]}]},{"value":"REPL Cookbook","children":[{"value":"HTTP Requests","children":[]},{"value":"Scraping HTML","children":[]},{"value":"GUI Applications","children":[]},{"value":"Office Automation","children":[]},{"value":"Image Processing","children":[]},{"value":"Machine Learning","children":[]}]}]},{"value":"Ammonite-Ops","children":[{"value":"Paths","children":[{"value":"RelPaths","children":[]},{"value":"Path Operations","children":[]},{"value":"Constructing Paths","children":[]}]},{"value":"Operations","children":[{"value":"Operator Reference","children":[]},{"value":"Extensions","children":[{"value":"Traversable","children":[]},{"value":"Pipeable","children":[]},{"value":"Callable","children":[]}]},{"value":"Chaining","children":[]}]},{"value":"Spawning Subprocesses","children":[{"value":"Environment Variables","children":[]},{"value":"Invoking Files","children":[]},{"value":"Current Working Directory","children":[]}]}]},{"value":"Ammonite-Shell","children":[{"value":"Getting Ammonite-Shell","children":[]},{"value":"Shell Basics","children":[{"value":"Working Directory","children":[]},{"value":"Listing Files","children":[]},{"value":"Filesystem Operations","children":[]},{"value":"Piping","children":[]},{"value":"Subprocesses","children":[]}]},{"value":"Scripting","children":[{"value":"Scala Scripting","children":[]},{"value":"Typed Values","children":[]},{"value":"Scala/Java APIs","children":[]},{"value":"Writing/Loading Scripts","children":[]}]},{"value":"Utilities","children":[{"value":"time","children":[]},{"value":"grep","children":[]}]},{"value":"Design Decisions & Tradeoffs","children":[{"value":"Scala as the Language","children":[]},{"value":"Running on the JVM","children":[]},{"value":"Goals of Ammonite-Shell","children":[]}]}]},{"value":"Reference","children":[{"value":"Community","children":[]},{"value":"Talks","children":[]},{"value":"Scaladoc","children":[]},{"value":"Changelog","children":[{"value":"0.5.5","children":[]},{"value":"0.5.4","children":[]},{"value":"0.5.3","children":[]},{"value":"0.5.2","children":[]},{"value":"0.5.1","children":[]},{"value":"0.5.0","children":[]},{"value":"0.4.9","children":[]},{"value":"0.4.8","children":[]},{"value":"0.4.7","children":[]},{"value":"0.4.6","children":[]},{"value":"0.4.5","children":[]},{"value":"0.4.4","children":[]},{"value":"0.4.3","children":[]},{"value":"0.4.2","children":[]},{"value":"0.4.1","children":[]},{"value":"0.4.0","children":[]},{"value":"0.3.2","children":[]},{"value":"0.3.1","children":[]},{"value":"0.3.0","children":[]},{"value":"0.2.9","children":[]},{"value":"0.2.8","children":[]}]}]}]
  )</script><script>
    ['DOMContentLoaded', 'load'].forEach(function(ev){
      addEventListener(ev, function(){
        Array.prototype.forEach.call(
          document.getElementsByClassName('scalatex-site-Styles-highlightMe'),
          hljs.highlightBlock
        );
      })
    })
  </script></body></html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      